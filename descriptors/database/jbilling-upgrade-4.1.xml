<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.2.xsd"
        logicalFilePath="descriptors/database/jbilling-upgrade-4.1.xml">

    <changeSet author="Maeis Gharibjanian" context="base" id="#6316-new-password-column-size">
        <comment>
            Increasing the size of the password column. This should be enough to store
            most hashes generated from known hashing methods plus the generated salt.
        </comment>
        <modifyDataType tableName="base_user" columnName="password" newDataType="java.sql.Types.VARCHAR(1024)"/>
    </changeSet>

    <changeSet author="Khurram M Cheema" context="base" id="#6316-hashing-method-column">
        <comment>
            Adding a column to represent the encryption scheme. Here we are assuming that
            all clients are sticking to the default password hashing method which is MD5.
        </comment>

        <addColumn tableName="base_user">
            <column name="encryption_scheme" type="java.sql.Types.INTEGER" />
        </addColumn>

        <!-- WARNING: Assume that all user's passwords were hashed with MD5 -->
        <update tableName="base_user">
            <column name="encryption_scheme" value="2"></column>
        </update>

        <!-- Make this column to be not null -->
        <addNotNullConstraint columnDataType="java.sql.Types.INTEGER" tableName="base_user" columnName="encryption_scheme" />
    </changeSet>

    <changeSet author="Vladimir Carevski" context="test" id="#6316-change-test-data-pass-and-method" >
        <comment>It changes the hashed value of all test users to match the one from BCrypt</comment>

        <!-- Update all users that have password 'asdfasdf'
             hashed with MD5 to be hashed with BCRYPT.
             For BCrypt we use default = 12 logrounds -->
        <update tableName="base_user">
            <column name="encryption_scheme" value="6" />
            <column name="password" value="$2a$10$VKqJRm960OawSLgkJQszEu4ZOZo/kBN8HwY9gQOXnCz1Qv2.PVhi." />
            <where>password='6a204bd89f3c8348afd5c77c717a097a' and encryption_scheme=2</where>
        </update>

        <!-- Update all users that have password 'password'
             hashed with MD5 to be hashed with BCRYPT.
             For BCrypt we use default = 12 logrounds -->
        <update tableName="base_user">
            <column name="encryption_scheme" value="6" />
            <column name="password" value="$2a$10$cBjn.r46Ne5nXCezYEQ1DeanrIFGzsdBZSBlLxlXhQEH8LNeyuar2" />
            <where>password='5f4dcc3b5aa765d61d8327deb882cf99' and encryption_scheme=2</where>
        </update>

        <!-- Update all users that have password '123qwe'
             hashed with MD5 to be hashed with BCRYPT.
             For BCrypt we use default = 12 logrounds -->
        <update tableName="base_user">
            <column name="encryption_scheme" value="6" />
            <column name="password" value="$2a$10$gNwEehQuLk2dw5Sao.uIfeJ06HJSsG0aDvr63fpwKGEm4Di5neE1y" />
            <where>password='46f94c8de14fb36680850768ff1b7f2a' and encryption_scheme=2</where>
        </update>

        <!-- Update all users that have password 'asdfasdf1'
             hashed with MD5 to be hashed with BCRYPT.
             For BCrypt we use default = 12 logrounds -->
        <update tableName="base_user">
            <column name="encryption_scheme" value="6" />
            <column name="password" value="$2a$10$FSZeszv7AsYk50f5RPt2Bu2PKop6CYabzkQwmgitL9HV5fIv2qDQq" />
            <where>password='eee0f3c319c7bdaf6311559eec5058e1' and encryption_scheme=2</where>
        </update>

        <!-- Several users (users: orc1, inactive) had '9369e99369e9' for pass hash
             which is not correct MD5. This users are reset to have '123qwe'
             for password hashed with BCrypt. For BCrypt we use default = 12 logrounds -->
        <update tableName="base_user">
            <column name="encryption_scheme" value="6" />
            <column name="password" value="$2a$10$gNwEehQuLk2dw5Sao.uIfeJ06HJSsG0aDvr63fpwKGEm4Di5neE1y" />
            <where>password='9369e99369e9' and encryption_scheme=2</where>
        </update>

    </changeSet>

    <changeSet author="Bilal Shah" context="base" id="#10595-Password lockout for failed login attempts">
        <addColumn tableName="base_user">
            <column name="account_locked_time" type="java.sql.Types.Timestamp"/>
        </addColumn>

        <comment>Constant ID may need to be changed during merging of this feature to later branches to avoid overlapping with other preference IDs</comment>
        <insert tableName="preference_type">
            <column name="id" valueNumeric="68"/> <!-- This preference is inserted after preference 61 in upgrade-3.4.xml-->
            <column name="def_value" value="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="50"/>
            <column name="foreign_id" valueNumeric="68"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Account Lockout Time"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="50"/>
            <column name="foreign_id" valueNumeric="68"/>
            <column name="psudo_column" value="instruction"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Number of minutes a User's account will remain locked after the number of allowed retries (Preference 39) are exhausted."/>
        </insert>

        <update tableName="international_description">
            <column name="content" value="The number of retries to allow before locking the user account. A locked user account will be locked for the amount of minutes specified in Preference 68. To enable this locking feature, setting Preference 68 to a non-zero value is a must."/>
            <where> table_id = 50 and foreign_id = 39 and language_id = 1 and psudo_column = 'instruction'</where>
        </update>

        <insert tableName="event_log_message">
            <column name="id" valueComputed="(select max(e.id)+1 from event_log_message e)"></column>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="47"/>
            <column name="foreign_id" valueComputed="(select max(e.id) from event_log_message e)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="A failed login attempt was made."/>
        </insert>
    </changeSet>

    <changeSet id="prevent-test-failures-for-password-rules" author="Vikas Bodani" context="test">
        <sql>update base_user set change_password_date = now() where id = 1</sql>
    </changeSet>

    <changeSet author="Rohit Gupta" context="base" id="#11107 - Line Percentage">
        <dropColumn
                columnName="percentage"
                tableName="item"/>

        <addColumn tableName="order_line">
            <column defaultValueBoolean="false" name="is_percentage" type="java.sql.Types.BOOLEAN">
                <constraints nullable="false"/>
            </column>
        </addColumn>
        <addColumn tableName="order_change">
            <column defaultValueBoolean="false" name="is_percentage" type="java.sql.Types.BOOLEAN">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet author="Aman Goel" context="test" id="#11108 - Line Percentage">
        <comment>Modified existing item having percentage field which is removed now</comment>
        <insert tableName="price_model">
            <column name="id" valueComputed="(select max(pm.id)+1 from price_model pm)"/>
            <column name="strategy_type" value="LINE_PERCENTAGE"/>
            <column name="rate" valueNumeric="10.0000000000"/>
            <column name="included_quantity"/>
            <column name="currency_id" valueNumeric="1"/>
            <column name="next_model_id"/>
        </insert>

        <insert tableName="entity_item_price_map">
            <column name="id" valueComputed="(select max(m.id)+1 from entity_item_price_map m)"/>
            <column name="item_id" valueNumeric="14"/>
            <column name="entity_id" valueNumeric="1"/>
        </insert>

        <insert tableName="item_price_timeline">
            <column name="model_map_id" valueComputed="(select max(m.id) from entity_item_price_map m)"/>
            <column name="price_model_id" valueComputed="(select max(pm.id) from price_model pm)"/>
            <column name="start_date" valueDate="1970-01-01"/>
        </insert>
	</changeSet>

	<changeSet author="Ilya Motornyy" context="base" id="20130923-InvoiceTemplate">
		<createTable tableName="invoice_template">
			<column name="id" type="java.sql.Types.INTEGER">
				<constraints nullable="false" primaryKey="true" primaryKeyName="invoice_template_pkey"/>
			</column>
			<column name="invoice_id" type="java.sql.Types.INTEGER"/>
			<column name="name" type="varchar(50)"/>
			<column name="template_json" type="java.sql.Types.CLOB"/>
		</createTable>
		<insert tableName="jbilling_seqs">
			<column name="name" value="invoice_template"/>
			<column name="next_id" valueNumeric="1"/>
		</insert>
	</changeSet>

    <changeSet author="Klim Sviridov" id="20131103-invoice-template-unique-name" context="base">
        <comment>Add unique constraint on 'name' column of 'invoice_template' table</comment>
        <addUniqueConstraint tableName="invoice_template" columnNames="name" constraintName="invoice_template_name_uq"/>
    </changeSet>

    <changeSet id="20131105-invoice-template-file" author="Klim Sviridov" context="base">
        <validCheckSum>7:c31166ba0fa8b7b12f262f0df98ed186</validCheckSum>
        <comment>Create table to store files relative to invoice templates</comment>
        <createTable tableName="invoice_template_file">
            <column name="id" type="java.sql.Types.INTEGER" autoIncrement="true">
                <constraints nullable="false" primaryKey="true" primaryKeyName="invoice_template_file_pk"/>
            </column>
            <column name="invoice_template_id" type="java.sql.Types.INTEGER"/>
            <column name="name" type="varchar(255)"/>
            <column name="data" type="java.sql.Types.BLOB"/>
        </createTable>
        <addForeignKeyConstraint baseColumnNames="invoice_template_id"
                                 baseTableName="invoice_template_file"
                                 constraintName="invoice_template_file_invoice_template_id_fk"
                                 onDelete="CASCADE"
                                 onUpdate="CASCADE"
                                 referencedColumnNames="id"
                                 referencedTableName="invoice_template"/>
        <addUniqueConstraint columnNames="invoice_template_id, name"
                             constraintName="invoice_template_file_invoice_template_id_name_uq"
                             initiallyDeferred="true"
                             tableName="invoice_template_file"/>
    </changeSet>

    <changeSet author="Nelson Secchi" id="20140422 #8154 - Invoice Templates are now company specific" context="base">
        <addColumn tableName="invoice_template">
            <column name="entity_id" type="java.sql.Types.INTEGER"/>
        </addColumn>
    </changeSet>

	<changeSet author="Nelson Secchi" id="20140422 #8154 - Invoice Templates Permissions" context="base">
        <insert tableName="permission_type">
            <column name="id" valueComputed="(select max(types.id)+1 from permission_type types)"/>
            <column name="description" value="Invoice Templates"/>
        </insert>
        <insert tableName="permission">
            <column name="id" valueComputed="(select max(types.id)*10 from permission_type types)"/>
            <column name="type_id" valueComputed="(select max(types.id) from permission_type types)"/>

            <column name="foreign_id"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
            <column name="foreign_id" valueComputed="(select max(types.id)*10 from permission_type types)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Edit Invoice Templates"/>
        </insert>
    </changeSet>

    <changeSet author="Nelson Secchi" id="20140717 #9004-Invoice Tool Generator permissions" context="base">
        <!-- As of today, July 17th 2014, the preference type id for Invoice Template is 16 -->
        <insert tableName="permission">
            <column name="id" valueComputed="(select ( max(types.id)*10 ) + 1 from permission_type types)"/>
            <column name="type_id" valueComputed="(select max(types.id) from permission_type types)"/>

            <column name="foreign_id"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
            <column name="foreign_id" valueComputed="(select ( max(types.id)*10 ) + 1 from permission_type types)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Add Invoice Templates"/>
        </insert>
        <insert tableName="permission">
            <column name="id" valueComputed="(select ( max(types.id)*10 ) + 2 from permission_type types)"/>
            <column name="type_id" valueComputed="(select max(types.id) from permission_type types)"/>

            <column name="foreign_id"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
             <column name="foreign_id" valueComputed="(select ( max(types.id)*10 ) + 2 from permission_type types)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="List Invoice Templates"/>
        </insert>
        <insert tableName="permission">
            <column name="id" valueComputed="(select ( max(types.id)*10 ) + 3 from permission_type types)"/>
            <column name="type_id" valueComputed="(select max(types.id) from permission_type types)"/>

            <column name="foreign_id"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
            <column name="foreign_id" valueComputed="(select ( max(types.id)*10 ) + 3 from permission_type types)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Delete Invoice Templates"/>
        </insert>
    </changeSet>

	<changeSet id="20140721 #9004-Give ITG permissions to super role" author="Nelson Secchi" context="base">
        <validCheckSum>7:8e6d10a8c45f64a7f53de55ccf5ad274</validCheckSum>
        <comment>Assigning Invoice Template permission to super user role</comment>
        <sql>
            insert into permission_role_map(role_id, permission_id)
            select r.id as role_id, ( select max(types.id)*10  from permission_type types) as permission_id from role r where r.role_type_id=2 group by r.id;
            insert into permission_role_map(role_id, permission_id)
            select r.id as role_id, (select ( max(types.id)*10 ) + 1 from permission_type types) as permission_id from role r where r.role_type_id=2 group by r.id;
            insert into permission_role_map(role_id, permission_id)
            select r.id as role_id, (select ( max(types.id)*10 ) + 2 from permission_type types) as permission_id from role r where r.role_type_id=2 group by r.id;
            insert into permission_role_map(role_id, permission_id)
            select r.id as role_id, (select ( max(types.id)*10 ) + 3  from permission_type types) as permission_id from role r where r.role_type_id=2 group by r.id;
        </sql>
    </changeSet>

    <changeSet id="#9223-itg-integration" context="base" author="Cristian Ebbens">
        <comment>August 25, 2014 - #9223: Use ITG in all the application where an invoice is generate into PDF.</comment>

        <insert tableName="preference_type">
            <column name="ID" valueComputed="(SELECT MAX(pt.id) + 1 FROM preference_type pt)" />
            <column name="DEF_VALUE" value="1" />
        </insert>
        <insert tableName="international_description">
            <column name="TABLE_ID" valueNumeric="50" />
            <column name="FOREIGN_ID" valueComputed="(SELECT MAX(pt.id) FROM preference_type pt)" />
            <column name="PSUDO_COLUMN" value="description" />
            <column name="LANGUAGE_ID" valueNumeric="1" />
            <column name="CONTENT" value="ITG invoice notification" />
        </insert>
        <insert tableName="international_description">
            <column name="TABLE_ID" valueNumeric="50" />
            <column name="FOREIGN_ID" valueComputed="(SELECT MAX(pt.id) FROM preference_type pt)" />
            <column name="PSUDO_COLUMN" value="instruction" />
            <column name="LANGUAGE_ID" valueNumeric="1" />
            <column name="CONTENT" value="Enables ITG (Invoice Template Generator) invoice notifications." />
        </insert>

        <addColumn tableName="customer">
            <column name="invoice_template_id" type="java.sql.Types.INTEGER" />
        </addColumn>
        <addForeignKeyConstraint constraintName="customer_invoice_template_FK" baseTableName="customer" baseColumnNames="invoice_template_id" referencedTableName="invoice_template" referencedColumnNames="id" onDelete="NO ACTION" onUpdate="NO ACTION" />

        <addColumn tableName="account_type">
            <column name="invoice_template_id" type="java.sql.Types.INTEGER" />
        </addColumn>
        <addForeignKeyConstraint constraintName="account_type_invoice_template_FK" baseTableName="account_type" baseColumnNames="invoice_template_id" referencedTableName="invoice_template" referencedColumnNames="id" onDelete="NO ACTION" onUpdate="NO ACTION" />
    </changeSet>

    <changeSet id="#9223-itg-integration2" context="base" author="Cristian Ebbens">
        <validCheckSum>7:e0bebbb0f354ae62d8cff27feda4cddd</validCheckSum>
        <comment>October 28, 2014 - #9223: Use ITG in all the application where an invoice is generate into PDF.</comment>

        <sql>
            INSERT INTO invoice_template(id, invoice_id, name, template_json, entity_id)
                SELECT id, null, description, '{"sections":[{"pageBreakBefore":false,"header":{"elements":[{"roundCornerRadius":10,"thickness":1,"font":{"face":"SansSerif","size":10,"bold":false,"italic":false,"color":"#000000"},"padding":10,"expr":"PO Box 8482  Ottawa, Ontario, K1G 3H9  Canada","borderColor":"#000000","bgColor":"#FFFFFF","transparent":false,"name":"Invoice","left":10,"top":70,"width":500,"height":60,"kind":"TextBox"},{"imageUrl":"https://cdn.jbilling.com/img/logo-community.png","name":"Logo","left":10,"top":10,"width":140,"height":80,"kind":"Image"},{"roundCornerRadius":10,"thickness":0,"font":{"face":"SansSerif","size":10,"bold":false,"italic":false,"color":"#000000"},"padding":10,"expr":"1 (866) 920-4348  jBilling.com","borderColor":"#FFFFFF","bgColor":"#A0A0A0","transparent":true,"name":"Address","left":10,"top":90,"width":500,"height":50,"kind":"TextBox"},{"roundCornerRadius":10,"thickness":1,"font":{"face":"SansSerif","size":16,"bold":false,"italic":false,"color":"#000000"},"padding":10,"expr":"","borderColor":"#FFFFFF","bgColor":"#A0A0A0","transparent":true,"name":"Address1","left":10,"top":180,"width":500,"height":10,"kind":"TextBox"}]},"footer":{"elements":[{"roundCornerRadius":5,"thickness":1,"font":{"face":"SansSerif","size":10,"bold":false,"italic":false,"color":"#000000"},"padding":10,"expr":"Payment Terms: Nullam quis risus eget urna mollis ornare vel eu leo. Maecenas sed diam eget risus varius blandit sit amet non magna.   Nulla vitae elit libero, a pharetra augue.","borderColor":"#808080","bgColor":"#A0A0A0","transparent":true,"name":"New Text Box","left":10,"top":300,"width":500,"height":50,"kind":"TextBox"}]},"content":{"minimalTotal":-1.7976931348623157E308,"font":{"face":"SansSerif","size":14,"bold":false,"italic":false,"color":"#404040"},"headerFont":{"face":"Serif","size":16,"bold":true,"italic":false,"color":"#FFFFFF"},"headerBgColor":"#050580","groupHeaderFont":{"face":"Monospaced","size":14,"bold":true,"italic":false,"color":"#000000"},"groupBgColor":"#000000","recordSeparation":"Line","recordSeparationThickness":2,"recordSeparationColor":"#030340","columns":[],"name":"Main table","left":0,"top":0,"width":0,"height":0,"kind":"InvoiceLines"},"columns":1,"name":"main Section","left":0,"top":0,"width":0,"height":0}],"name":"New Invoice Design","format":"A4","marginLeft":30,"marginRight":30,"marginTop":30,"marginBottom":30,"pageHeader":{"elements":[]},"pageFooter":{"elements":[]},"landscape":false}', id
            FROM entity;
        </sql>
        <sql>
            INSERT INTO pluggable_task_parameter(id, task_id, name, int_value, str_value, float_value, optlock)
               SELECT max(ptp.id) + 100 + pt.entity_id, pt.id, 'template', null, pt.entity_id, null, 1
                FROM pluggable_task_parameter ptp
                    INNER JOIN pluggable_task pt ON pt.id = ptp.task_id
                    INNER JOIN pluggable_task_type ptt ON ptt.id = pt.type_id
                WHERE ptt.class_name = 'com.sapienter.jbilling.server.pluggableTask.PaperInvoiceNotificationTask'
                group by pt.id;
        </sql>
    </changeSet>

    <!-- Feature - Asset Reservation -->
    <changeSet id="#10256:Asset Reservation" author="Morales Fernando G." context="base">

        <comment>Adding reservation parameter</comment>
        <addColumn tableName="item">
            <column name="reservation_duration" type="java.sql.Types.INTEGER" defaultValueNumeric="0">
                <constraints nullable="false" />
            </column>
        </addColumn>

        <comment>Asset reservation table</comment>
        <createTable tableName="asset_reservation">
            <column name="id" type="java.sql.Types.INTEGER">
                <constraints nullable="false" primaryKey="true" primaryKeyName="asset_reservation_pkey"/>
            </column>
            <column name="user_id" type="java.sql.Types.INTEGER" >
                <constraints nullable="false"/>
            </column>
            <column name="creator_user_id" type="java.sql.Types.INTEGER" >
                <constraints nullable="false"/>
            </column>
            <column name="asset_id" type="java.sql.Types.INTEGER" >
                <constraints nullable="false"/>
            </column>
            <column name="start_date" type="java.sql.Types.TIMESTAMP" >
                <constraints nullable="false"/>
            </column>
            <column name="end_date" type="java.sql.Types.TIMESTAMP" >
                <constraints nullable="false"/>
            </column>
            <column name="optlock" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <comment>Adding indexes</comment>
        <createIndex indexName="asset_reservation_end_date_index" tableName="asset_reservation" unique="false">
            <column name="end_date"/>
        </createIndex>
        <addForeignKeyConstraint baseColumnNames="creator_user_id"
                                 baseTableName="asset_reservation" constraintName="asset_reservation_fk_1"
                                 deferrable="false" initiallyDeferred="false" onDelete="NO ACTION"
                                 onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_user"
                                 referencesUniqueColumn="false"/>
        <addForeignKeyConstraint baseColumnNames="user_id"
                                 baseTableName="asset_reservation" constraintName="asset_reservation_fk_2"
                                 deferrable="false" initiallyDeferred="false" onDelete="NO ACTION"
                                 onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="base_user"
                                 referencesUniqueColumn="false"/>
        <addForeignKeyConstraint baseColumnNames="asset_id"
                                 baseTableName="asset_reservation" constraintName="asset_reservation_fk_3"
                                 deferrable="false" initiallyDeferred="false" onDelete="NO ACTION"
                                 onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="asset"
                                 referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="Rohit Gupta" context="base" id="#11243-AIT-Inhancement">
        <addColumn tableName="account_type">
            <column name="notification_ait_id" type="java.sql.Types.INTEGER" >
            	<constraints nullable="true"/>
            </column>
       	</addColumn>
    </changeSet>

    <changeSet author="Rohit Gupta" context="test" id="#11243-AIT-Inhancement-2">
    	<update tableName="account_type">
       		<column name="notification_ait_id" value="1"></column>
       		<where> id = 1</where>
       	</update>
       	<update tableName="account_type">
       		<column name="notification_ait_id" value="3"></column>
       		<where> id = 3</where>
       	</update>
       	<update tableName="account_type">
       		<column name="notification_ait_id" value="6"></column>
       		<where> id = 4</where>
        </update>
    </changeSet>

    <changeSet id="#11120-itg-enhancements-inv_temp_ver" author="Prashant Gupta" context="base" >
        <createTable tableName="invoice_template_version">
            <column name="id" type="java.sql.Types.INTEGER">
                <constraints nullable="false" primaryKey="true" primaryKeyName="invoice_temp_ver_pkey"/>
            </column>
            <column name="template_id" type="java.sql.Types.INTEGER"/>
            <column name="size" type="java.sql.Types.INTEGER"/>
            <column name="user_id" type="java.sql.Types.INTEGER"/>
            <column name="created_datetime" type="java.sql.Types.TIMESTAMP"/>
            <column name="version_number" type="varchar(50)">
                <constraints nullable="false" unique="true" uniqueConstraintName="invoice_temp_ver_vn_uq" />
            </column>
            <column name="tag_name" type="varchar(50)"/>
            <column name="template_json" type="java.sql.Types.CLOB"/>
        </createTable>
        <addForeignKeyConstraint baseColumnNames="template_id"
                                 baseTableName="invoice_template_version"
                                 constraintName="invoice_temp_ver_invoice_temp_id_fk"
                                 onDelete="CASCADE"
                                 onUpdate="CASCADE"
                                 referencedColumnNames="id"
                                 referencedTableName="invoice_template"/>
        <insert tableName="jbilling_seqs">
            <column name="name" value="invoice_template_version"/>
            <column name="next_id" valueNumeric="1"/>
        </insert>

        <comment>move existing templateJson to newly created invoice_template_version and set pk generator sequence appropriately</comment>
        <sql>
            insert into invoice_template_version
            (id, template_id, created_datetime, version_number, tag_name, template_json)
            ( select id, id, now(), (id+0.1), null, template_json from invoice_template )
        </sql>
        <sql>
            update jbilling_seqs set next_id = coalesce((select max(t.id)+1 from invoice_template_version t),1)
            where name = 'invoice_template_version'
        </sql>

        <comment>drop column template_json from invoice_template table</comment>
        <sql>
            ALTER TABLE invoice_template DROP COLUMN template_json
        </sql>
    </changeSet>

    <changeSet author="Vladimir Carevski" context="base" id="20141030-#10344-asset-assignment-history">
        <comment>#10344 Implementing the asset assignment feature</comment>

        <createTable tableName="asset_assignment">
            <column name="id" type="java.sql.Types.INTEGER">
                <constraints nullable="false" primaryKey="true" primaryKeyName="asset_assignment_pkey"/>
            </column>
            <column name="asset_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="order_line_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="start_datetime" type="java.sql.Types.TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column name="end_datetime" type="java.sql.Types.TIMESTAMP"/>
        </createTable>

        <addForeignKeyConstraint baseColumnNames="asset_id"
                                 baseTableName="asset_assignment" constraintName="asset_assignment_fk_1"
                                 deferrable="false" initiallyDeferred="false" onDelete="NO ACTION"
                                 onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="asset"
                                 referencesUniqueColumn="false"/>

        <addForeignKeyConstraint baseColumnNames="order_line_id"
                                 baseTableName="asset_assignment" constraintName="asset_assignment_fk_2"
                                 deferrable="false" initiallyDeferred="false" onDelete="NO ACTION"
                                 onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="order_line"
                                 referencesUniqueColumn="false"/>

        <insert tableName="jbilling_seqs">
            <column name="name" value="asset_assignment"/>
            <column name="next_id" valueNumeric="1"/>
        </insert>

        <insert tableName="jbilling_table">
            <column name="id" valueComputed="(select max(jt.id)+1 from jbilling_table jt)"/>
            <column name="name" value="asset_assignment"/>
        </insert>

        <!-- Make mini migration/reconstruction of data -->
        <sql>
            <![CDATA[
                insert into asset_assignment (id, asset_id, order_line_id, start_datetime)

               (select a.id, a.id, a.order_line_id, ooc.application_date
                    from asset a
                        inner join order_line ol on a.order_line_id = ol.id
                        inner join order_change ooc on ooc.order_line_id = ol.id
                    where
                        a.order_line_id is not null
                    and ooc.id = (
                       select oc.id from order_change oc
                            inner join order_change_asset_map ocam on ocam.order_change_id = oc.id
                        where oc.order_line_id = ol.id
                            and ocam.asset_id = a.id
                            order by oc.application_date desc
                            limit 1));
            ]]>
        </sql>

        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(p.id)+1 from asset_assignment p),1)"/>
            <where>name='asset_assignment'</where>
        </update>

    </changeSet>

    <changeSet author="Vojislav Stanojevikj" context="base, test" id="#11457-rename-strategy-types">
        <comment>Rename all existing strategy_type cells in price_model table, from FLAT to ZERO and from METERED to FLAT.</comment>
        <update tableName="price_model">
            <column name="strategy_type" value="ZERO"/>
            <where>strategy_type='FLAT'</where>
        </update>
        <update tableName="price_model">
            <column name="strategy_type" value="FLAT"/>
            <where>strategy_type='METERED'</where>
        </update>
    </changeSet>

    <changeSet id="#10355 - reset password after expiry period" author="Bilal Shah" context="base">
       <createTable tableName="user_password_map">
            <column name="id" type="java.sql.Types.INTEGER">
                <constraints nullable="false" primaryKey="true" primaryKeyName="user_password_map_pkey"/>
            </column>
            <column name="base_user_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="date_created" type="java.sql.Types.TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column name="new_password" type="java.sql.Types.VARCHAR(1024)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="20150307-missing-not-null-constraint" author="Vikas Bodani" context="base">
        <addNotNullConstraint columnDataType="java.sql.Types.INTEGER" tableName="reset_password_code" columnName="base_user_id"/>
    </changeSet>

    <changeSet id="#8922-20150309-customer-price-active-expiry-date" author="Vikas Bodani" context="base">
        <comment>Price subscription and expiration dates for customer price. Price expiration dates for Account Type price</comment>
        <addColumn tableName="customer_price">
            <column  name="price_subscription_date" type="java.sql.Types.DATE">
                <constraints nullable="true"/>
            </column>
            <column  name="price_expiry_date" type="java.sql.Types.DATE">
                <constraints nullable="true"/>
            </column>
        </addColumn>

        <addColumn tableName="account_type_price">
            <column  name="price_expiry_date" type="java.sql.Types.DATE">
                <constraints nullable="true"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet id="#10256:Asset Reservation scheduler plugin" author="Aman Goel" context="base">
        <update tableName="pluggable_task_type">
            <column name="min_parameters" valueNumeric="0"/>
            <where>class_name='com.sapienter.jbilling.server.item.tasks.CheckAssetReservationCronScheduledTask'</where>
        </update>
    </changeSet>

    <changeSet id="#11826-select-invoice-template-version-for-invoice" author="Prashant Gupta" context="base">
        <validCheckSum>7:9a2b05f043fc78dc19a142d98a4024c7</validCheckSum>
        <addColumn tableName="invoice_template_version">
            <column name="use_for_invoice" type="java.sql.Types.BOOLEAN" defaultValueBoolean="false">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet author="Ashok Kale" context="base" id="#Added-duplicate-records-column-in-mediation-process-table">
        <addColumn tableName="mediation_process">
            <column name="duplicate_records" type="java.sql.Types.BIGINT">
                <constraints nullable="true" />
            </column>
        </addColumn>
    </changeSet>

    <changeSet author="Aadil Nazir" context="base" id="#11369-Feature to identify inactive accounts">
        <validCheckSum>7:0029c3ea1466b22e1614446811447527</validCheckSum>
        <comment>#11369 Develop ability to identify inactive accounts</comment>

        <comment>Added new column in base_user, value is set to date on which a user is marked in-active</comment>
        <addColumn tableName="base_user">
            <column name="account_disabled_date" type="java.sql.Types.DATE"/>
        </addColumn>

        <comment>Add new preference of Number of days after which a User's account will become inactive</comment>
        <comment>Constant ID may need to be changed during merging of this feature to later branches to avoid overlapping with other preference IDs</comment>
        <insert tableName="preference_type">
            <column name="id" valueComputed="(select max(t.id)+1 from preference_type t)"/> <!-- should be 69 -->
            <column name="def_value" value="60"/>
        </insert>

        <comment>foreign_id may need to be changed depending upon preference ID assigned above during merging to later branches</comment>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="50"/>
            <column name="foreign_id" valueNumeric="70"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Expire Inactive Accounts After Days"/>
        </insert>
        <comment>foreign_id may need to be changed depending upon preference ID assigned above during merging to later branches</comment>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="50"/>
            <column name="foreign_id" valueNumeric="70"/>
            <column name="psudo_column" value="instruction"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Number of days after which a User's account will become inactive. This will disable the ability to login to jBilling for that user."/>
        </insert>

        <comment>Add new plug-in to make users inactive if they are not logged-in for number of days specified in the preference created above</comment>
        <comment>Constant ID may need to be changed during merging of this feature to later branches to avoid overlapping with other plug-ins</comment>
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="22"/>
            <column name="class_name" value="com.sapienter.jbilling.server.pluggableTask.InactiveUserManagementTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <comment>foreign_id may need to be changed depending upon plug-in ID assigned above during merging to later branches</comment>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Inactive user account management plugin"/>
        </insert>

        <comment>foreign_id may need to be changed depending upon plug-in ID assigned above during merging to later branches</comment>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="This is a scheduled plugin that takes in user that has not been logged-in for number of days specified in preference 55 and update there status to Inactive."/>
        </insert>
    </changeSet>

    <changeSet author="Aadil Nazir" context="base" id="#11369-Report for Feature to identify inactive accounts">
        <insert tableName="report">
            <column name="id" valueComputed="(select coalesce(max(r.id), 1)+1 from report r)"/>
            <column name="type_id" valueComputed="(select id from report_type rt where rt.name = 'user')"/>
            <column name="name" value="user_activity"/>
            <column name="file_name" value="user_activity.jasper"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'user_activity')"/>
            <column name="dtype" value="integer"/>
            <column name="name" value="activity_days"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'user_activity')"/>
            <column name="dtype" value="string"/>
            <column name="name" value="active_status"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'user_activity')"/>
            <column name="dtype" value="string"/>
            <column name="name" value="order_by"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueComputed="(select id from jbilling_table where name = 'report')"/>
            <column name="foreign_id" valueComputed="(select id from report r where r.name = 'user_activity')"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Statement of User Activity within specified number of days"/>
        </insert>
    </changeSet>

    <changeSet author="Aadil Nazir" context="test" id="#11369-Enter new report in report entity map for inactive accounts feature">
        <insert tableName="entity_report_map">
            <column name="report_id" valueComputed="(select id from report r where r.name = 'user_activity')"/>
            <column name="entity_id" valueComputed="1"/>
        </insert>
    </changeSet>

    <changeSet author="Aman Goel" id="#10815-filter-key-data" context="base">
        <addColumn tableName="filter">
            <column name="field_key_data" type="java.sql.Types.VARCHAR(255)"/>
        </addColumn>
    </changeSet>

    <changeSet id="migrate_customer_accounts_hosted" author="Juan Vidal" context="test">
        <customChange class="com.sapienter.jbilling.server.migrations.MigrateCustomerAccounts"/>
    </changeSet>


    <changeSet id="#11015 created new plugin to notify system admin via mail" author="Vivek Yadav" context="base">
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="(select max(p.id)+1 from pluggable_task_type p)"/>
            <column name="category_id" valueNumeric="17"/>
            <column name="class_name" value="com.sapienter.jbilling.server.company.task.AdminCredentialNotificationTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(p.id) from pluggable_task_type p)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Send Notification to newly created System Admin"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(p.id) from pluggable_task_type p)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="This plug-in will send notification to newly created System admin and supported admin through email."/>
        </insert>
    </changeSet>
    <changeSet id="#12636-granting-user-credentials" author="Javier Rivero" context="base">
        <insert tableName="preference_type">
            <column name="id" value="71"/>
            <column name="def_value" value="24"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="50"/>
            <column name="foreign_id" value="71"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Forgot Password Expiration (hours)"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="50"/>
            <column name="foreign_id" valueNumeric="71"/>
            <column name="psudo_column" value="instruction"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Hours until the link for password change expires."/>
        </insert>
    </changeSet>

    <changeSet id="#12702:Default credentials changed" author="Nelson Secchi" context="base">
        <insert tableName="preference_type">
            <column name="id" value="75"/>
            <column name="def_value" value="0"/>
        </insert>

        <comment>Description for the preference type, this is shown on the list of preferences</comment>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="50"/>
            <column name="foreign_id" valueNumeric="75"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Should credentials be created by default"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="50"/>
            <column name="foreign_id" valueNumeric="75"/>
            <column name="psudo_column" value="instruction"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="1 to have credentials created by default when the user is created. 0 (default) to require credential creation be requested upon creation."/>
        </insert>
    </changeSet>


    <changeSet id="#12702:Credentials email message notification" author="Nelson Secchi" context="base">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from international_description where table_id = 52 and foreign_id = 21
            </sqlCheck>
        </preConditions>
        <comment>We need a new message for when credentials are being created</comment>
        <comment>Define the notification message type. For new entities, this id will be used on EntityDefaults</comment>
        <insert tableName="notification_message_type">
            <column name="id" valueComputed="21"/>
            <column name="category_id" valueNumeric="4"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="52"/>
            <column name="foreign_id" valueComputed="21"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Credentials creation"/>
        </insert>
    </changeSet>

    <changeSet id="#12702:Credentials email message notification - test" author="Nelson Secchi" context="test">
        <comment>This is an instance of the message for the entity 1</comment>
        <insert tableName="notification_message">
            <column name="id" valueComputed="(select max(nm.id)+1 from notification_message nm)"/>
            <column name="type_id" valueComputed="21"/>
            <column name="entity_id" valueNumeric="1"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="use_flag" valueNumeric="1"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <update tableName="jbilling_seqs">
            <column name="next_id"  valueComputed="(select max(nm.id) from notification_message nm)"/>
            <where>name = 'notification_message'</where>
        </update>

        <comment>This is the section message for the title</comment>
        <insert tableName="notification_message_section">
            <column name="id" valueComputed="(select max(nms.id)+1 from notification_message_section nms)"/>
            <column name="message_id" valueComputed="(select max(id) from notification_message)"/>
            <column name="section" valueNumeric="1"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <insert tableName="notification_message_line">
            <column name="id" valueComputed="(select max(nml.id)+1 from notification_message_line nml)"/>
            <column name="message_section_id" valueComputed="(select max(id) from notification_message_section)"/>
            <column name="content" value="Your registration credentials"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <comment>This is the section message for the content of the email</comment>
        <insert tableName="notification_message_section">
            <column name="id" valueComputed="(select max(nms.id)+1 from notification_message_section nms)"/>
            <column name="message_id" valueComputed="(select max(id) from notification_message)"/>
            <column name="section" valueNumeric="2"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <insert tableName="notification_message_line">
            <column name="id" valueComputed="(select max(nml.id)+1 from notification_message_line nml)"/>
            <column name="message_section_id" valueComputed="(select max(id) from notification_message_section)"/>
            <column name="content" value="Hello  $first_name $last_name,\r\n\r\nWelcome to JBilling!.\r\n\r\nPlease follow this link to set your credentials:\r\n\r\n$newPasswordLink"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <update tableName="jbilling_seqs">
            <column name="next_id"  valueComputed="(select max(nml.id)+1 from notification_message_section nml)"/>
            <where>name = 'notification_message_section'</where>
        </update>

        <update tableName="jbilling_seqs">
            <column name="next_id"  valueComputed="(select max(nml.id)+1 from notification_message_line nml)"/>
            <where>name = 'notification_message_line'</where>
        </update>
    </changeSet>
    
    <changeSet id="#12686_Default_Security_Preferences:permissions" author="Fernando G. Morales" context="base">
        <validCheckSum>7:2cbf94fcde96e129e8cf51b96d5c3fc9</validCheckSum>
        <comment>Remove the permissions 32 and 111 (Delete Payment, Switch to any user) from all roles</comment>

        <sql>delete from permission_role_map WHERE permission_id=32 or permission_id=111</sql>

        <comment>Create a new Permission Type with description Configuration</comment>
        <insert tableName="permission_type">
            <column name="id" valueComputed="(select max(pt.id)+1 from permission_type pt)"/>
            <column name="description" value="Configuration"/>
        </insert>

        <comment>Create a three new permissions</comment>
        <insert tableName="permission">
            <column name="id" valueComputed="(select (pt.id*100)+1 from permission_type pt where pt.description='Configuration')"/>
            <column name="type_id" valueComputed="(select max(pt.id) from permission_type pt)"/>
            <column name="foreign_id"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
            <column name="foreign_id" valueComputed="(select max(t.id) from permission t)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="View plugin-in" />
        </insert>
        
        <insert tableName="permission">
            <column name="id" valueComputed="(select (pt.id*100)+2 from permission_type pt where pt.description='Configuration')"/>
            <column name="type_id" valueComputed="(select max(pt.id) from permission_type pt)"/>
            <column name="foreign_id"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
            <column name="foreign_id" valueComputed="(select max(p.id) from permission p)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Edit plug-in" />
        </insert>

        <insert tableName="permission">
            <column name="id" valueComputed="(select (pt.id*100)+3 from permission_type pt where pt.description='Configuration')"/>
            <column name="type_id" valueComputed="(select max(pt.id) from permission_type pt)"/>
            <column name="foreign_id"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
            <column name="foreign_id" valueComputed="(select max(p.id) from permission p)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Edit role" />
        </insert>
        <comment>Assign permissions to roles 2,7,9 for 'View plugin-in'</comment>
        <sql>
            insert into permission_role_map (permission_id, role_id)
            select (select idesc.foreign_id from international_description idesc where idesc.content='View plugin-in'), prm.role_id from permission_role_map prm where permission_id=99;
        </sql>

    </changeSet>


    <changeSet id="#12686_Default_Security_Preferences:validation_rules" author="Fernando G. Morales" context="base">
        <validCheckSum>7:53dd8bd71fcea8b8569fce4179903be3</validCheckSum>

        <comment>Add validation rule to the preference type</comment>
        <addColumn tableName="preference_type">
            <column  name="validation_rule_id" type="java.sql.Types.INTEGER"/>
        </addColumn>
        <addForeignKeyConstraint baseColumnNames="validation_rule_id"
                                 baseTableName="preference_type" constraintName="preference_type_vr_fk_1"
                                 deferrable="false" initiallyDeferred="false" onDelete="NO ACTION"
                                 onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="validation_rule"
                                 referencesUniqueColumn="false"/>

        <comment>Define validation rules and add to preferences</comment>

        <insert tableName="validation_rule">
            <column name="id" valueComputed="coalesce((select max(t.id)+1 from validation_rule t),1)"/>
            <column name="rule_type" value="RANGE"/>
            <column name="enabled" valueBoolean="true"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="validation_rule_attributes">
            <column name="validation_rule_id" valueComputed="(select max(t.id) from validation_rule t)"/>
            <column name="attribute_name" value="minRange"/>
            <column name="attribute_value" value="0"/>
        </insert>
        <insert tableName="validation_rule_attributes">
            <column name="validation_rule_id" valueComputed="(select max(t.id) from validation_rule t)"/>
            <column name="attribute_name" value="maxRange"/>
            <column name="attribute_value" value="7"/>
        </insert>
        <insert tableName="international_description">
            <column name="foreign_id" valueComputed="(select max(t.id) from validation_rule t)"/>
            <column name="table_id" valueComputed="(select id from jbilling_table where name='validation_rule')"/>
            <column name="psudo_column" value="errorMessage"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Failed login attempts can not be more than 6"/>
        </insert>
        <comment>Set rule for preference: Lock-out user after failed login attempts</comment>
        <update tableName="preference_type">
            <column name="validation_rule_id" valueComputed="(select max(vr.id) from validation_rule vr)"/>
            <where> id = 39</where>
        </update>

        <insert tableName="validation_rule">
            <column name="id" valueComputed="coalesce((select max(t.id)+1 from validation_rule t),1)"/>
            <column name="rule_type" value="RANGE"/>
            <column name="enabled" valueBoolean="true"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="validation_rule_attributes">
            <column name="validation_rule_id" valueComputed="(select max(t.id) from validation_rule t)"/>
            <column name="attribute_name" value="minRange"/>
            <column name="attribute_value" value="0"/>
        </insert>
        <insert tableName="validation_rule_attributes">
            <column name="validation_rule_id" valueComputed="(select max(t.id) from validation_rule t)"/>
            <column name="attribute_name" value="maxRange"/>
            <column name="attribute_value" value="91"/>
        </insert>
        <insert tableName="international_description">
            <column name="foreign_id" valueComputed="(select max(t.id) from validation_rule t)"/>
            <column name="table_id" valueComputed="(select id from jbilling_table where name='validation_rule')"/>
            <column name="psudo_column" value="errorMessage"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Passwords must expire before 90 days"/>
        </insert>
        <comment>Set rule for preference: 'Expire user passwords after days'</comment>
        <update tableName="preference_type">
            <column name="validation_rule_id" valueComputed="(select max(vr.id) from validation_rule vr)"/>
            <where> id = 40</where>
        </update>

        <insert tableName="validation_rule">
            <column name="id" valueComputed="coalesce((select max(t.id)+1 from validation_rule t),1)"/>
            <column name="rule_type" value="RANGE"/>
            <column name="enabled" valueBoolean="true"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="validation_rule_attributes">
            <column name="validation_rule_id" valueComputed="(select max(t.id) from validation_rule t)"/>
            <column name="attribute_name" value="minRange"/>
            <column name="attribute_value" value="0"/>
        </insert>
        <insert tableName="validation_rule_attributes">
            <column name="validation_rule_id" valueComputed="(select max(t.id) from validation_rule t)"/>
            <column name="attribute_name" value="maxRange"/>
            <column name="attribute_value" value="91"/>
        </insert>
        <insert tableName="international_description">
            <column name="foreign_id" valueComputed="(select max(t.id) from validation_rule t)"/>
            <column name="table_id" valueComputed="(select id from jbilling_table where name='validation_rule')"/>
            <column name="psudo_column" value="errorMessage"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Inactive account checks must be done quicker than 90 days"/>
        </insert>
        <comment>Set rule for preference: 'Expire Inactive Accounts After Days'</comment>
        <update tableName="preference_type">
            <column name="validation_rule_id" valueComputed="(select max(vr.id) from validation_rule vr)"/>
            <where> id = 69</where>
        </update>

    </changeSet>

    <changeSet id="#12686_Default_Security_Preferences:remove_preferences" author="Fernando G. Morales" context="base">
        <comment>Removed the HIDE CC CARD NUMBER preference</comment>
        <delete tableName="preference">
            <where>type_id=37</where>
        </delete>
        <delete tableName="international_description">
            <where>table_id = (select id from jbilling_table where name ='preference_type') and foreign_id=37</where>
        </delete>
        <delete tableName="preference_type">
            <where>id=37</where>
        </delete>
    </changeSet>

    <changeSet id="#12686_Default_Security_Preferences:validation_rules for Telco-4.1" author="Nelson Secchi" context="base">
        <comment>Reverts the validation set for validation rule 69</comment>
        <update tableName="preference_type">
            <column name="validation_rule_id" valueComputed="null"/>
            <where> id = 69</where>
        </update>

        <comment>Set rule for preference: 'Expire Inactive Accounts After Days'</comment>
        <comment>This assumes that the last changeset that added validations was #12686_Default_Security_Preferences:validation_rules</comment>
        <update tableName="preference_type">
            <column name="validation_rule_id" valueComputed="(select max(vr.id) from validation_rule vr)"/>
            <where> id = 70</where>
        </update>

    </changeSet>

	<changeSet author="Bilal Shah" context="base"  id="#12602-audit-log-user-related-information">

		<insert tableName="event_log_message">
			<column name="id" valueNumeric="38" />
		</insert>

		<insert tableName="international_description">
			<column name="table_id" valueNumeric="47" />
			<column name="foreign_id" valueNumeric="38" />
			<column name="psudo_column" value="description" />
			<column name="language_id" valueNumeric="1" />
			<column name="content" value="User logged in successfully" />
		</insert>

		<insert tableName="event_log_message">
			<column name="id" valueNumeric="39" />
		</insert>

		<insert tableName="international_description">
			<column name="table_id" valueNumeric="47" />
			<column name="foreign_id" valueNumeric="39" />
			<column name="psudo_column" value="description" />
			<column name="language_id" valueNumeric="1" />
			<column name="content" value="User logged out successfully" />
		</insert>
		<insert tableName="event_log_message">
			<column name="id" valueNumeric="40" />
		</insert>

		<insert tableName="international_description">
			<column name="table_id" valueNumeric="47" />
			<column name="foreign_id" valueNumeric="40" />
			<column name="psudo_column" value="description" />
			<column name="language_id" valueNumeric="1" />
			<column name="content"
				value="User failed to log in due to incorrect username/password" />
		</insert>
	</changeSet>

	<changeSet id="20150602 - audit log view permission" author="Ravi Singhal" context="base">
		<comment>Adding a new permission to control who can view audit logs in jBilling</comment>
		<insert tableName="permission">
            <column name="id" valueComputed="(select (pt.id*100)+4 from permission_type pt where pt.description='Configuration')"/>
            <column name="type_id" valueComputed="(select t.id from permission_type t where t.description = 'Configuration')"/>
            <column name="foreign_id"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
            <column name="foreign_id" valueComputed="(select max(id) from permission)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Audit Log" />
        </insert>
	</changeSet>

	<changeSet author="Ravi Singhal" id="20150603 #9004-Invoice Tool Generator permissions" context="base">
        <!-- As of today, June 5th 2015, the preference type id for Invoice Template is 18 -->
        
        <insert tableName="permission">
             <column name="id" valueComputed="(select (pt.id*100)+1 from permission_type pt where pt.description='Invoice Templates')"/>
            <column name="type_id" valueComputed="(select types.id from permission_type types where types.description='Invoice Templates')"/>
            <column name="foreign_id"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
             <column name="foreign_id" valueComputed="(select (pt.id*100)+1 from permission_type pt where pt.description='Invoice Templates')"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Edit Invoice Templates"/>
        </insert>
        
        <insert tableName="permission">
            <column name="id" valueComputed="(select (pt.id*100)+2 from permission_type pt where pt.description='Invoice Templates')"/>
            <column name="type_id" valueComputed="(select types.id from permission_type types where types.description='Invoice Templates')"/>
            <column name="foreign_id"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
            <column name="foreign_id" valueComputed="(select (pt.id*100)+2 from permission_type pt where pt.description='Invoice Templates')"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Add Invoice Templates"/>
        </insert>
        <insert tableName="permission">
            <column name="id" valueComputed="(select (pt.id*100)+3 from permission_type pt where pt.description='Invoice Templates')"/>
            <column name="type_id" valueComputed="(select types.id from permission_type types where types.description='Invoice Templates')"/>
            <column name="foreign_id"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
            <column name="foreign_id" valueComputed="(select (pt.id*100)+3 from permission_type pt where pt.description='Invoice Templates')"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="List Invoice Templates"/>
        </insert>
        <insert tableName="permission">
            <column name="id" valueComputed="(select (pt.id*100)+4 from permission_type pt where pt.description='Invoice Templates')"/>
            <column name="type_id" valueComputed="(select types.id from permission_type types where types.description='Invoice Templates')"/>
            <column name="foreign_id"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
            <column name="foreign_id" valueComputed="(select (pt.id*100)+4 from permission_type pt where pt.description='Invoice Templates')"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Delete Invoice Templates"/>
        </insert>
        
          <update tableName="permission_role_map">
            <column name="permission_id" valueNumeric="1801"/>
            <where>permission_id = 180</where>
        </update>
        <update tableName="permission_role_map">
            <column name="permission_id" valueNumeric="1802"/>
            <where>permission_id = 181</where>
        </update>
        <update tableName="permission_role_map">
            <column name="permission_id" valueNumeric="1803"/>
            <where>permission_id = 182</where>
        </update>
        <update tableName="permission_role_map">
            <column name="permission_id" valueNumeric="1804"/>
            <where>permission_id = 183</where>
        </update> 

        <delete tableName="international_description">
            <where>table_id = 59 and foreign_id in (180, 181, 182, 183)</where>
        </delete>

        <delete tableName="permission">
            <where>id in (180, 181, 182, 183)</where>
        </delete>
        
    </changeSet>
    
    <changeSet id="#240615_Remove Password Override from Permission" author="Ravi Singhal" context="base">
        <comment>Hide Permission: Password Override</comment>
        
        <delete tableName="permission_role_map">
            <where>permission_id=145</where>
        </delete>
        
        <delete tableName="international_description">
            <where>table_id = 59 and foreign_id = 145 
            </where>
        </delete>

        <delete tableName="permission_user">
            <where>permission_id = 145</where>
        </delete>
        
        <delete tableName="permission">
            <where>id = 145</where>
        </delete>
    </changeSet>
    
    <changeSet id="#08072015" author="Ravi Singhal" context="base">
    	<update tableName="notification_message_line">
    		<column name="content" value="Hello  $first_name $last_name,\n\nYou (or someone pretending to be you) requested a password reset of your account.\n\nYou may reset your password from the following link:\n\n$newPasswordLink\n\nAdmin:\t$organization_name"></column>
    		<where>
    			content = 'Hello  $first_name $last_name,\r\n\r\nYou (or someone pretending to be you) requested a password reset of your account.\r\n\r\nIf you access the following link your password will be changed to: $newPassword\r\n\r\n$newPasswordLink'
    			or
    			content = '&lt;p&gt;Hello $first_name $last_name,&lt;/p&gt;&lt;p&gt;You (or someone pretending to be you) requested a password reset of your account.&lt;/p&gt;&lt;p&gt;If you access the following link your password will be changed to: &lt;strong&gt;$newPassword&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;$newPasswordLink&quot;&gt;$newPasswordLink&lt;/a&gt;&lt;/p&gt;'
    		</where>
    	</update>
    </changeSet>

    <changeSet id="#14013 Adding Asset reservation minute and it's validation" author="Vivek Yadav" context="base">
        <comment>Adding default reservation minute for asset reservation</comment>

        <comment>Add validation rule for Asset reservation duration</comment>
        <insert tableName="validation_rule">
            <column name="id" valueComputed="coalesce((select max(t.id)+1 from validation_rule t),1)"/>
            <column name="rule_type" value="RANGE"/>
            <column name="enabled" valueBoolean="true"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="validation_rule_attributes">
            <column name="validation_rule_id" valueComputed="(select max(t.id) from validation_rule t)"/>
            <column name="attribute_name" value="minRange"/>
            <column name="attribute_value" value="0"/>
        </insert>
        <insert tableName="validation_rule_attributes">
            <column name="validation_rule_id" valueComputed="(select max(t.id) from validation_rule t)"/>
            <column name="attribute_name" value="maxRange"/>
            <column name="attribute_value" value="600000"/>
        </insert>
        <insert tableName="international_description">
            <column name="foreign_id" valueComputed="(select max(t.id) from validation_rule t)"/>
            <column name="table_id" valueComputed="(select id from jbilling_table where name='validation_rule')"/>
            <column name="psudo_column" value="errorMessage"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Reservation duration should be between 0 and 600000"/>
        </insert>

        <insert tableName="preference_type">
            <column name="id" valueComputed="(select max(p.id) + 1 from preference_type p)"/>
            <column name="def_value" value="10"/>
            <column name="validation_rule_id" valueComputed="(select max(vr.id) from validation_rule vr)"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="50"/>
            <column name="foreign_id" valueComputed="(select max(id) from preference_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Default Asset Reservation Duration"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="50"/>
            <column name="foreign_id" valueComputed="(select max(id) from preference_type)"/>
            <column name="psudo_column" value="instruction"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Add Default Asset reservation minute here. It will work if product is asset enabled. (Must be greater than zero)"/>
        </insert>
    </changeSet>

    <changeSet id="#14081 delete permission type under user switching" author="Vivek Yadav" context="base">
        <comment>Remove the permissions 110(Switch to sub-account) from all roles.
            Delete permission 110 and 111(Switch to any user, Switch to sub-account) permanently as it does not play any role in user switching.
            Delete User Switching permission type permanently, it don't has any permission.
        </comment>
        <sql>delete from permission_role_map WHERE permission_id=110</sql>
        <sql>delete from international_description WHERE table_id = 59 and foreign_id in(110, 111)</sql>
        <sql>delete from permission WHERE id in (110, 111)</sql>
        <sql>delete from permission_type WHERE id = 11</sql>
    </changeSet>

    <changeSet author="Aadil Nazir" context="base" id="[JB-169] add boolean paramter to include/exclude customers">
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'user_activity')"/>
            <column name="dtype" value="boolean"/>
            <column name="name" value="include_customers"/>
        </insert>
    </changeSet>

    <changeSet id="migrate_customer_accounts_hosted" author="Juan Vidal" context="base">
        <customChange class="com.sapienter.jbilling.server.migrations.MigrateCustomerAccounts"/>
    </changeSet>

    <changeSet id="JB-37 - Support Custom Payment Methods" author="Juan Vidal" context="base">
        <insert tableName="payment_method_template">
            <column name="id" valueNumeric="-1"/>
            <column name="template_name" value="Custom"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <insert tableName="payment_method">
            <column name="id" valueNumeric="-1"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="35"/>
            <column name="foreign_id" valueNumeric="-1"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Custom"/>
        </insert>

        <dropTable tableName="entity_payment_method_map"/>
        <delete tableName="jbilling_seqs">
            <where> name = 'entity_payment_method_map'</where>
        </delete>
        <delete tableName="jbilling_table">
            <where>name = 'entity_payment_method_map'</where>
        </delete>
    </changeSet>
    <changeSet id="#11015 New System Admin Role" author="Vivek Yadav" context="base">

        <sql>
            <![CDATA[
            INSERT INTO role(
            id, entity_id, role_type_id)
            select (select COALESCE(max(r.id),0)+1 from role r) + (select count(*) from entity e2
            where e1.id > e2.id and e2.id <> e1.id), e1.id, -1
            from entity e1;

            INSERT INTO international_description(
            foreign_id, table_id, psudo_column, language_id, content)
            select r.id, 60, 'description', 1, 'The System Admin of a Company'
            from role r where r.role_type_id = -1;

             INSERT INTO international_description(
            foreign_id, table_id, psudo_column, language_id, content)
            select r.id, 60, 'title', 1, 'System Admin'
            from role r where r.role_type_id = -1;
            ]]>
        </sql>

    </changeSet>

    <changeSet id="#11015 New System Admin Role for init data" author="Vivek Yadav" context="base">
        <comment>Added new role System Admin</comment>
        <insert tableName="role">
            <column name="id" valueComputed="coalesce((select max(r.id) + 1 from role r),1)"/>
            <column name="role_type_id" valueNumeric="-1"/>
            <column name="entity_id"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="60"/>
            <column name="foreign_id" valueComputed="(select max(r.id) from role r)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="System Admin"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="60"/>
            <column name="foreign_id" valueComputed="(select max(r.id) from role r)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="The System Admin of a Company"/>
        </insert>
        <sql>
            <![CDATA[
            INSERT into permission_role_map( permission_id, role_id)
            select p.id, r.id from permission p, role r where r.role_type_id = -1;


            ]]>
        </sql>
    </changeSet>

    <changeSet id="[JB-96] create sys admin for current companies" author="Bilal Shah" context="test">
        <preConditions onFail="CONTINUE" onError="WARN">
            <not>
                <sqlCheck expectedResult="0">
                    select count(id) from entity;
                </sqlCheck>
            </not>
        </preConditions>

        <comment>Create new sys admin user for current companies</comment>

        <sql splitStatements="false">
            <![CDATA[
                DO $$
                DECLARE
                  entityId RECORD;
                  eid      NUMERIC(50);
                  ename    VARCHAR(500);
                BEGIN
                  FOR entityId IN
                  SELECT
                    id,
                    description
                  FROM entity s(id)
                  LOOP
                    eid := entityId.id;
                    ename := entityId.description;
                    INSERT INTO base_user (id, entity_id, password, deleted, language_id, status_id, currency_id, create_datetime, last_status_change, last_login,
                      user_name, subscriber_status, failed_attempts, optlock, change_password_date, encryption_scheme,
                      account_locked_time, account_disabled_date)
                    VALUES ((SELECT max(bu.id) + 1
                                                   FROM base_user bu), eid,
                                                  '$2a$10$gNwEehQuLk2dw5Sao.uIfeJ06HJSsG0aDvr63fpwKGEm4Di5neE1y', 0, 1, 1, 1, now(), NULL,
                                                  NULL, 'sysadmin', 9, 0, 0, NULL, 6, NULL, NULL);
                    INSERT INTO contact VALUES ((SELECT max(c.id) + 1
                                                 FROM contact c), ename, '1234 Great East Road', '', 'Bree', 'Middle Earth', '54321',
                                                'CA', 'Admin', 'System', '', '', 011, 123, '321-1234', NULL, NULL, NULL,
                                                'sysadmin@testing.com', now(), 0, 1, (SELECT max(bu.id)
                                                                                      FROM base_user bu), 1);
                    INSERT INTO user_role_map VALUES ((SELECT max(bu.id)
                                                       FROM base_user bu), (SELECT r.id
                                                                            FROM role r
                                                                            WHERE entity_id = eid AND role_type_id = -1));
                  END LOOP;
                END;
                $$;
            ]]>
        </sql>
    </changeSet>

    <changeSet author="Martin Peralta" id="JB-102" context="base">
        <comment>Oct 02 2015, Create new task to compose invoices based in order lines and update the existent plugin name BasicCompositionTask to OrderChangeBasedCompositionTask.</comment>

        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="(select max(p.id)+1 from pluggable_task_type p)"/>
            <column name="category_id" valueNumeric="4"/>
            <column name="class_name" value="com.sapienter.jbilling.server.pluggableTask.OrderLineBasedCompositionTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(p.id) from pluggable_task_type p)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Create one invoice line per order line"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(p.id) from pluggable_task_type p)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="This task will copy all the lines on the orders and invoices to the new invoice, considering the periods involved for each order, but not the fractions of periods. It will not copy the lines that are taxes. The quantity and total of each line will be multiplied by the amount of periods."/>
        </insert>

        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="(select max(p.id)+1 from pluggable_task_type p)"/>
            <where>name='pluggable_task_type'</where>
        </update>

        <update tableName="pluggable_task_type">
            <column name="class_name" value="com.sapienter.jbilling.server.pluggableTask.OrderChangeBasedCompositionTask"/>
            <where>class_name='com.sapienter.jbilling.server.pluggableTask.BasicCompositionTask'</where>
        </update>
    </changeSet>

    <changeSet id="JB-131 - Invoice Template names are unique between Companies in Hosted instance." author="Juan Vidal" context="base">
        <preConditions onFail="MARK_RAN">
            <indexExists indexName="invoice_template_name_uq"/>
        </preConditions>

        <dropUniqueConstraint tableName="invoice_template" constraintName="invoice_template_name_uq"/>

        <createIndex tableName="invoice_template" indexName="invoice_template_name_uq">
            <column name="name" type="varchar(50)"/>
            <column name="entity_id" type="integer"/>
        </createIndex>
    </changeSet>
    <!-- Commenting this changeset as can not remove FC live mediation configuration -->
    <!--changeSet id="JB-140" author="Removed old mediation configurations">
        <delete tableName="mediation_cfg"></delete>
    </changeSet>-->

    <changeSet author="Fernando G. Morales" id="#14001 - Improper access test data - Inserts" context="test">

        <insert tableName="entity">
            <column name="id" valueNumeric="10"/>
            <column name="external_id"/>
            <column name="description" value="Second Child Reseller"/>
            <column name="create_datetime" valueDate="2015-09-10T10:17:31.239"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="currency_id" valueNumeric="1"/>
            <column name="optlock" valueNumeric="3"/>
            <column name="deleted" valueNumeric="0"/>
            <column name="invoice_as_reseller" valueBoolean="true"/>
            <column name="parent_id" valueNumeric="1"/>
        </insert>
        <insert tableName="entity">
            <column name="id" valueNumeric="11"/>
            <column name="external_id"/>
            <column name="description" value="Mordor Child Company"/>
            <column name="create_datetime" valueDate="2015-09-10T10:28:58.516"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="currency_id" valueNumeric="2"/>
            <column name="optlock" valueNumeric="2"/>
            <column name="deleted" valueNumeric="0"/>
            <column name="invoice_as_reseller" valueBoolean="false"/>
            <column name="parent_id" valueNumeric="2"/>
        </insert>

        <insert tableName="order_period">
            <column name="id" valueNumeric="100"/>
            <column name="entity_id" valueNumeric="10"/>
            <column name="value" valueNumeric="1"/>
            <column name="unit_id" valueNumeric="1"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="order_period">
            <column name="id" valueNumeric="101"/>
            <column name="entity_id" valueNumeric="11"/>
            <column name="value" valueNumeric="1"/>
            <column name="unit_id" valueNumeric="1"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <insert tableName="account_type">
            <column name="id" valueNumeric="60100"/>
            <column name="credit_limit" valueNumeric="0E-10"/>
            <column name="invoice_design"/>
            <column name="invoice_delivery_method_id"/>
            <column name="date_created" valueDate="2015-09-10T10:17:33.125"/>
            <column name="credit_notification_limit1"/>
            <column name="credit_notification_limit2"/>
            <column name="language_id"/>
            <column name="entity_id" valueNumeric="10"/>
            <column name="currency_id"/>
            <column name="optlock" valueNumeric="0"/>
            <column name="main_subscript_order_period_id" valueNumeric="100"/>
            <column name="next_invoice_day_of_period" valueNumeric="1"/>
            <column name="invoice_template_id"/>
            <column name="notification_ait_id"/>
        </insert>
        <insert tableName="account_type">
            <column name="id" valueNumeric="60101"/>
            <column name="credit_limit" valueNumeric="0E-10"/>
            <column name="invoice_design"/>
            <column name="invoice_delivery_method_id"/>
            <column name="date_created" valueDate="2015-09-10T10:28:59.535"/>
            <column name="credit_notification_limit1"/>
            <column name="credit_notification_limit2"/>
            <column name="language_id"/>
            <column name="entity_id" valueNumeric="11"/>
            <column name="currency_id"/>
            <column name="optlock" valueNumeric="0"/>
            <column name="main_subscript_order_period_id" valueNumeric="101"/>
            <column name="next_invoice_day_of_period" valueNumeric="1"/>
            <column name="invoice_template_id"/>
            <column name="notification_ait_id"/>
        </insert>

        <insert tableName="base_user">
            <column name="id" valueNumeric="108141"/>
            <column name="entity_id" valueNumeric="1"/>
            <column name="password" value="P@ssword1"/>
            <column name="deleted" valueNumeric="0"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="status_id" valueNumeric="1"/>
            <column name="subscriber_status" valueNumeric="14"/>
            <column name="currency_id" valueNumeric="1"/>
            <column name="create_datetime" valueDate="9999-01-01T10:17:34.244"/>
            <column name="last_status_change"/>
            <column name="last_login"/>
            <column name="user_name" value="Second Child Reseller"/>
            <column name="failed_attempts" valueNumeric="0"/>
            <column name="optlock" valueNumeric="1"/>
            <column name="change_password_date"/>
            <column name="encryption_scheme" valueNumeric="6"/>
            <column name="account_locked_time"/>
            <column name="account_disabled_date"/>
        </insert>
        <insert tableName="base_user">
            <column name="id" valueNumeric="108140"/>
            <column name="entity_id" valueNumeric="10"/>
            <column name="password" value="$2a$10$1IC18V/LyqHpd1/vtmoF5.jqTd1A8sIM/8IaUes.9w7qhnGLHw3vW"/>
            <column name="deleted" valueNumeric="0"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="status_id" valueNumeric="1"/>
            <column name="subscriber_status" valueNumeric="9"/>
            <column name="currency_id" valueNumeric="1"/>
            <column name="create_datetime" valueDate="9999-01-01T10:17:31.377"/>
            <column name="last_status_change"/>
            <column name="last_login" valueDate="2015-09-10T10:21:36.17"/>
            <column name="user_name" value="admin2"/>
            <column name="failed_attempts" valueNumeric="0"/>
            <column name="optlock" valueNumeric="2"/>
            <column name="change_password_date" valueDate="2015-09-10"/>
            <column name="encryption_scheme" valueNumeric="6"/>
            <column name="account_locked_time"/>
            <column name="account_disabled_date"/>
        </insert>
        <insert tableName="base_user">
            <column name="id" valueNumeric="108142"/>
            <column name="entity_id" valueNumeric="10"/>
            <column name="password" value="$2a$10$1Mh6tCjMgKLMY6mkxdUd7eTGB/GS3bUDKkzkB/XEqENaBBZgJrdfK"/>
            <column name="deleted" valueNumeric="0"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="status_id" valueNumeric="1"/>
            <column name="subscriber_status" valueNumeric="9"/>
            <column name="currency_id" valueNumeric="1"/>
            <column name="create_datetime" valueDate="9999-01-01T10:23:09.752"/>
            <column name="last_status_change"/>
            <column name="last_login"/>
            <column name="user_name" value="Avgvstvs"/>
            <column name="failed_attempts" valueNumeric="0"/>
            <column name="optlock" valueNumeric="2"/>
            <column name="change_password_date" valueDate="2015-09-10"/>
            <column name="encryption_scheme" valueNumeric="6"/>
            <column name="account_locked_time"/>
            <column name="account_disabled_date"/>
        </insert>
        <insert tableName="base_user">
            <column name="id" valueNumeric="108143"/>
            <column name="entity_id" valueNumeric="11"/>
            <column name="password" value="$2a$10$3JmgWIIYJoDyCIbU8Qnn2ObNPuIIIz4ER/A72MIZFN1VYhlgiUPzu"/>
            <column name="deleted" valueNumeric="0"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="status_id" valueNumeric="1"/>
            <column name="subscriber_status" valueNumeric="9"/>
            <column name="currency_id" valueNumeric="2"/>
            <column name="create_datetime" valueDate="9999-01-01T10:28:58.541"/>
            <column name="last_status_change"/>
            <column name="last_login" valueDate="2015-09-10T10:30:35.338"/>
            <column name="user_name" value="mordor2"/>
            <column name="failed_attempts" valueNumeric="0"/>
            <column name="optlock" valueNumeric="2"/>
            <column name="change_password_date" valueDate="2015-09-10"/>
            <column name="encryption_scheme" valueNumeric="6"/>
            <column name="account_locked_time"/>
            <column name="account_disabled_date"/>
        </insert>
        <insert tableName="base_user">
            <column name="id" valueNumeric="108144"/>
            <column name="entity_id" valueNumeric="11"/>
            <column name="password" value="$2a$10$lmC2ceVZe7TnUwjpbLp1AuU9m0ztxuPXSzreaCZO2okIPTdKKa7KS"/>
            <column name="deleted" valueNumeric="0"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="status_id" valueNumeric="1"/>
            <column name="subscriber_status" valueNumeric="9"/>
            <column name="currency_id" valueNumeric="2"/>
            <column name="create_datetime" valueDate="9999-01-01T10:31:15.819"/>
            <column name="last_status_change"/>
            <column name="last_login"/>
            <column name="user_name" value="Caesar"/>
            <column name="failed_attempts" valueNumeric="0"/>
            <column name="optlock" valueNumeric="2"/>
            <column name="change_password_date" valueDate="2015-09-10"/>
            <column name="encryption_scheme" valueNumeric="6"/>
            <column name="account_locked_time"/>
            <column name="account_disabled_date"/>
        </insert>

        <update tableName="base_user">
            <column name="create_datetime" value="9999-01-01T10:31:15.819"/>
            <where>user_name in ('gandalf', 'french-speaker', 'pendunsus1')</where>
        </update>

        <insert tableName="customer">
            <column name="id" valueNumeric="10710400"/>
            <column name="user_id" valueNumeric="108141"/>
            <column name="referral_fee_paid"/>
            <column name="invoice_delivery_method_id" valueNumeric="1"/>
            <column name="auto_payment_type"/>
            <column name="due_date_unit_id"/>
            <column name="due_date_value"/>
            <column name="df_fm"/>
            <column name="parent_id"/>
            <column name="is_parent"/>
            <column name="exclude_aging" valueNumeric="0"/>
            <column name="invoice_child"/>
            <column name="optlock" valueNumeric="1"/>
            <column name="dynamic_balance" valueNumeric="0E-10"/>
            <column name="credit_limit" valueNumeric="0E-10"/>
            <column name="auto_recharge" valueNumeric="0E-10"/>
            <column name="use_parent_pricing" valueBoolean="false"/>
            <column name="main_subscript_order_period_id" valueNumeric="2"/>
            <column name="next_invoice_day_of_period" valueNumeric="1"/>
            <column name="next_inovice_date" valueDate="2015-10-01"/>
            <column name="account_type_id" valueNumeric="1"/>
            <column name="invoice_design"/>
            <column name="credit_notification_limit1" valueNumeric="100.0000000000"/>
            <column name="credit_notification_limit2" valueNumeric="50.0000000000"/>
            <column name="recharge_threshold" valueNumeric="-1.0000000000"/>
            <column name="monthly_limit"/>
            <column name="current_monthly_amount"/>
            <column name="current_month"/>
            <column name="invoice_template_id"/>
        </insert>
        <insert tableName="customer">
            <column name="id" valueNumeric="10710401"/>
            <column name="user_id" valueNumeric="108142"/>
            <column name="referral_fee_paid"/>
            <column name="invoice_delivery_method_id" valueNumeric="1"/>
            <column name="auto_payment_type" valueNumeric="1"/>
            <column name="due_date_unit_id" valueNumeric="3"/>
            <column name="due_date_value"/>
            <column name="df_fm"/>
            <column name="parent_id"/>
            <column name="is_parent" valueNumeric="0"/>
            <column name="exclude_aging" valueNumeric="0"/>
            <column name="invoice_child"/>
            <column name="optlock" valueNumeric="1"/>
            <column name="dynamic_balance" valueNumeric="0E-10"/>
            <column name="credit_limit" valueNumeric="0E-10"/>
            <column name="auto_recharge" valueNumeric="0E-10"/>
            <column name="use_parent_pricing" valueBoolean="false"/>
            <column name="main_subscript_order_period_id" valueNumeric="100"/>
            <column name="next_invoice_day_of_period" valueNumeric="1"/>
            <column name="next_inovice_date" valueDate="2015-10-01"/>
            <column name="account_type_id" valueNumeric="60100"/>
            <column name="invoice_design" value=""/>
            <column name="credit_notification_limit1"/>
            <column name="credit_notification_limit2"/>
            <column name="recharge_threshold" valueNumeric="-1.0000000000"/>
            <column name="monthly_limit" valueNumeric="0E-10"/>
            <column name="current_monthly_amount"/>
            <column name="current_month"/>
            <column name="invoice_template_id"/>
        </insert>
        <insert tableName="customer">
            <column name="id" valueNumeric="10710402"/>
            <column name="user_id" valueNumeric="108144"/>
            <column name="referral_fee_paid"/>
            <column name="invoice_delivery_method_id" valueNumeric="1"/>
            <column name="auto_payment_type" valueNumeric="1"/>
            <column name="due_date_unit_id" valueNumeric="3"/>
            <column name="due_date_value"/>
            <column name="df_fm"/>
            <column name="parent_id"/>
            <column name="is_parent" valueNumeric="0"/>
            <column name="exclude_aging" valueNumeric="0"/>
            <column name="invoice_child"/>
            <column name="optlock" valueNumeric="1"/>
            <column name="dynamic_balance" valueNumeric="0E-10"/>
            <column name="credit_limit" valueNumeric="0E-10"/>
            <column name="auto_recharge" valueNumeric="0E-10"/>
            <column name="use_parent_pricing" valueBoolean="false"/>
            <column name="main_subscript_order_period_id" valueNumeric="101"/>
            <column name="next_invoice_day_of_period" valueNumeric="1"/>
            <column name="next_inovice_date" valueDate="2015-10-01"/>
            <column name="account_type_id" valueNumeric="60101"/>
            <column name="invoice_design" value=""/>
            <column name="credit_notification_limit1"/>
            <column name="credit_notification_limit2"/>
            <column name="recharge_threshold" valueNumeric="-1.0000000000"/>
            <column name="monthly_limit" valueNumeric="0E-10"/>
            <column name="current_monthly_amount"/>
            <column name="current_month"/>
            <column name="invoice_template_id"/>
        </insert>

        <insert tableName="user_password_map">
            <column name="id" valueNumeric="1"/>
            <column name="base_user_id" valueNumeric="108140"/>
            <column name="date_created" valueDate="2015-09-10T10:20:45.276"/>
            <column name="new_password" value="$2a$10$1IC18V/LyqHpd1/vtmoF5.jqTd1A8sIM/8IaUes.9w7qhnGLHw3vW"/>
        </insert>
        <insert tableName="user_password_map">
            <column name="id" valueNumeric="2"/>
            <column name="base_user_id" valueNumeric="108142"/>
            <column name="date_created" valueDate="2015-09-10T10:24:50.334"/>
            <column name="new_password" value="$2a$10$1Mh6tCjMgKLMY6mkxdUd7eTGB/GS3bUDKkzkB/XEqENaBBZgJrdfK"/>
        </insert>
        <insert tableName="user_password_map">
            <column name="id" valueNumeric="3"/>
            <column name="base_user_id" valueNumeric="108143"/>
            <column name="date_created" valueDate="2015-09-10T10:29:52.709"/>
            <column name="new_password" value="$2a$10$3JmgWIIYJoDyCIbU8Qnn2ObNPuIIIz4ER/A72MIZFN1VYhlgiUPzu"/>
        </insert>
        <insert tableName="user_password_map">
            <column name="id" valueNumeric="4"/>
            <column name="base_user_id" valueNumeric="108144"/>
            <column name="date_created" valueDate="2015-09-10T10:31:49.31"/>
            <column name="new_password" value="$2a$10$lmC2ceVZe7TnUwjpbLp1AuU9m0ztxuPXSzreaCZO2okIPTdKKa7KS"/>
        </insert>

        <insert tableName="item_type">
            <column name="id" valueNumeric="23030100"/>
            <column name="entity_id" valueNumeric="10"/>
            <column name="description" value="plans"/>
            <column name="order_line_type_id" valueNumeric="1"/>
            <column name="optlock" valueNumeric="0"/>
            <column name="internal" valueBoolean="true"/>
            <column name="parent_id"/>
            <column name="allow_asset_management" valueNumeric="0"/>
            <column name="asset_identifier_label"/>
            <column name="global" valueBoolean="false"/>
            <column name="one_per_order" valueBoolean="false"/>
            <column name="one_per_customer" valueBoolean="false"/>
        </insert>
        <insert tableName="item_type">
            <column name="id" valueNumeric="23030101"/>
            <column name="entity_id" valueNumeric="11"/>
            <column name="description" value="plans"/>
            <column name="order_line_type_id" valueNumeric="1"/>
            <column name="optlock" valueNumeric="0"/>
            <column name="internal" valueBoolean="true"/>
            <column name="parent_id"/>
            <column name="allow_asset_management" valueNumeric="0"/>
            <column name="asset_identifier_label"/>
            <column name="global" valueBoolean="false"/>
            <column name="one_per_order" valueBoolean="false"/>
            <column name="one_per_customer" valueBoolean="false"/>
        </insert>

        <insert tableName="item_type_entity_map">
            <column name="item_type_id" valueNumeric="23030100"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="item_type_entity_map">
            <column name="item_type_id" valueNumeric="23030101"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>

        <insert tableName="reseller_entityid_map">
            <column name="entity_id" valueNumeric="10"/>
            <column name="user_id" valueNumeric="108141"/>
        </insert>

        <insert tableName="billing_process_configuration">
            <column name="id" valueNumeric="100"/>
            <column name="entity_id" valueNumeric="10"/>
            <column name="next_run_date" valueDate="2015-10-10"/>
            <column name="generate_report" valueNumeric="1"/>
            <column name="retries" valueNumeric="0"/>
            <column name="days_for_retry" valueNumeric="1"/>
            <column name="days_for_report" valueNumeric="3"/>
            <column name="review_status" valueNumeric="1"/>
            <column name="due_date_unit_id" valueNumeric="1"/>
            <column name="due_date_value" valueNumeric="1"/>
            <column name="df_fm"/>
            <column name="only_recurring" valueNumeric="1"/>
            <column name="invoice_date_process" valueNumeric="0"/>
            <column name="optlock" valueNumeric="0"/>
            <column name="maximum_periods" valueNumeric="99"/>
            <column name="auto_payment_application" valueNumeric="1"/>
            <column name="period_unit_id" valueNumeric="1"/>
            <column name="last_day_of_month" valueBoolean="false"/>
            <column name="prorating_type" value="PRORATING_AUTO_OFF"/>
        </insert>
        <insert tableName="billing_process_configuration">
            <column name="id" valueNumeric="101"/>
            <column name="entity_id" valueNumeric="11"/>
            <column name="next_run_date" valueDate="2015-10-10"/>
            <column name="generate_report" valueNumeric="1"/>
            <column name="retries" valueNumeric="0"/>
            <column name="days_for_retry" valueNumeric="1"/>
            <column name="days_for_report" valueNumeric="3"/>
            <column name="review_status" valueNumeric="1"/>
            <column name="due_date_unit_id" valueNumeric="1"/>
            <column name="due_date_value" valueNumeric="1"/>
            <column name="df_fm"/>
            <column name="only_recurring" valueNumeric="1"/>
            <column name="invoice_date_process" valueNumeric="0"/>
            <column name="optlock" valueNumeric="0"/>
            <column name="maximum_periods" valueNumeric="99"/>
            <column name="auto_payment_application" valueNumeric="1"/>
            <column name="period_unit_id" valueNumeric="1"/>
            <column name="last_day_of_month" valueBoolean="false"/>
            <column name="prorating_type" value="PRORATING_AUTO_OFF"/>
        </insert>


        <insert tableName="role">
            <column name="id" valueNumeric="130"/>
            <column name="entity_id" valueNumeric="10"/>
            <column name="role_type_id" valueNumeric="2"/>
        </insert>
        <insert tableName="role">
            <column name="id" valueNumeric="131"/>
            <column name="entity_id" valueNumeric="10"/>
            <column name="role_type_id" valueNumeric="3"/>
        </insert>
        <insert tableName="role">
            <column name="id" valueNumeric="132"/>
            <column name="entity_id" valueNumeric="10"/>
            <column name="role_type_id" valueNumeric="5"/>
        </insert>
        <insert tableName="role">
            <column name="id" valueNumeric="133"/>
            <column name="entity_id" valueNumeric="10"/>
            <column name="role_type_id" valueNumeric="4"/>
        </insert>
        <insert tableName="role">
            <column name="id" valueNumeric="134"/>
            <column name="entity_id" valueNumeric="11"/>
            <column name="role_type_id" valueNumeric="2"/>
        </insert>
        <insert tableName="role">
            <column name="id" valueNumeric="135"/>
            <column name="entity_id" valueNumeric="11"/>
            <column name="role_type_id" valueNumeric="3"/>
        </insert>
        <insert tableName="role">
            <column name="id" valueNumeric="136"/>
            <column name="entity_id" valueNumeric="11"/>
            <column name="role_type_id" valueNumeric="5"/>
        </insert>
        <insert tableName="role">
            <column name="id" valueNumeric="137"/>
            <column name="entity_id" valueNumeric="11"/>
            <column name="role_type_id" valueNumeric="4"/>
        </insert>

        <insert tableName="reset_password_code">
            <column name="base_user_id" valueNumeric="108141"/>
            <column name="date_created" valueDate="2015-09-10T10:17:34.647"/>
            <column name="token" value="285D3MvB4vZUONub7TLYy1KRLyLwcoYi"/>
            <column name="new_password"/>
        </insert>

        <insert tableName="meta_field_value">
            <column name="id" valueNumeric="2051960"/>
            <column name="meta_field_name_id" valueNumeric="19"/>
            <column name="dtype" value="string"/>
            <column name="boolean_value"/>
            <column name="date_value"/>
            <column name="decimal_value"/>
            <column name="integer_value"/>
            <column name="string_value" value="rambo@gmail.com"/>
        </insert>

        <insert tableName="customer_account_info_type_timeline">
            <column name="id" valueNumeric="2051921000"/>
            <column name="customer_id" valueNumeric="10710400"/>
            <column name="account_info_type_id" valueNumeric="1"/>
            <column name="meta_field_value_id" valueNumeric="2051960"/>
            <column name="effective_date" valueDate="1970-01-01"/>
        </insert>

        <insert tableName="user_role_map">
            <column name="user_id" valueNumeric="108140"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="user_role_map">
            <column name="user_id" valueNumeric="108141"/>
            <column name="role_id" valueNumeric="5"/>
        </insert>
        <insert tableName="user_role_map">
            <column name="user_id" valueNumeric="108142"/>
            <column name="role_id" valueNumeric="132"/>
        </insert>
        <insert tableName="user_role_map">
            <column name="user_id" valueNumeric="108143"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="user_role_map">
            <column name="user_id" valueNumeric="108144"/>
            <column name="role_id" valueNumeric="136"/>
        </insert>

        <insert tableName="rating_unit">
            <column name="id" valueNumeric="400"/>
            <column name="name" value="Time"/>
            <column name="entity_id" valueNumeric="10"/>
            <column name="price_unit_name" value="Minute"/>
            <column name="increment_unit_name" value="Seconds"/>
            <column name="increment_unit_quantity" valueNumeric="60.0000000000"/>
            <column name="can_be_deleted" valueBoolean="false"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="rating_unit">
            <column name="id" valueNumeric="401"/>
            <column name="name" value="Time"/>
            <column name="entity_id" valueNumeric="11"/>
            <column name="price_unit_name" value="Minute"/>
            <column name="increment_unit_name" value="Seconds"/>
            <column name="increment_unit_quantity" valueNumeric="60.0000000000"/>
            <column name="can_be_deleted" valueBoolean="false"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <insert tableName="contact">
            <column name="id" valueNumeric="113300"/>
            <column name="organization_name" value="Second Child Reseller"/>
            <column name="street_addres1" value="Standard Oil"/>
            <column name="street_addres2" value=""/>
            <column name="city" value=""/>
            <column name="state_province" value="Cordoba"/>
            <column name="postal_code" value="500000"/>
            <column name="country_code" value="PM"/>
            <column name="last_name" value="Avgvstvs"/>
            <column name="first_name" value="Octavio"/>
            <column name="person_initial"/>
            <column name="person_title"/>
            <column name="phone_country_code" valueNumeric="111"/>
            <column name="phone_area_code" valueNumeric="1111"/>
            <column name="phone_phone_number" value="111111111"/>
            <column name="fax_country_code"/>
            <column name="fax_area_code"/>
            <column name="fax_phone_number"/>
            <column name="email" value="rambo@gmail.com"/>
            <column name="create_datetime" valueDate="2015-09-10T10:17:31.304"/>
            <column name="deleted" valueNumeric="0"/>
            <column name="notification_include"/>
            <column name="user_id"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="contact">
            <column name="id" valueNumeric="113301"/>
            <column name="organization_name" value="Second Child Reseller"/>
            <column name="street_addres1" value="Standard Oil"/>
            <column name="street_addres2" value=""/>
            <column name="city" value=""/>
            <column name="state_province" value="Cordoba"/>
            <column name="postal_code" value="500000"/>
            <column name="country_code" value="PM"/>
            <column name="last_name" value="Avgvstvs"/>
            <column name="first_name" value="Octavio"/>
            <column name="person_initial"/>
            <column name="person_title"/>
            <column name="phone_country_code" valueNumeric="111"/>
            <column name="phone_area_code" valueNumeric="1111"/>
            <column name="phone_phone_number" value="111111111"/>
            <column name="fax_country_code"/>
            <column name="fax_area_code"/>
            <column name="fax_phone_number"/>
            <column name="email" value="rambo@gmail.com"/>
            <column name="create_datetime" valueDate="2015-09-10T10:17:31.750"/>
            <column name="deleted" valueNumeric="0"/>
            <column name="notification_include" valueNumeric="1"/>
            <column name="user_id" valueNumeric="108140"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="contact">
            <column name="id" valueNumeric="113302"/>
            <column name="organization_name" value="Second Child Reseller"/>
            <column name="street_addres1" value="Standard Oil"/>
            <column name="street_addres2" value=""/>
            <column name="city" value=""/>
            <column name="state_province" value="Cordoba"/>
            <column name="postal_code" value="500000"/>
            <column name="country_code" value="PM"/>
            <column name="last_name" value="Avgvstvs"/>
            <column name="first_name" value="Octavio"/>
            <column name="person_initial"/>
            <column name="person_title"/>
            <column name="phone_country_code" valueNumeric="111"/>
            <column name="phone_area_code" valueNumeric="1111"/>
            <column name="phone_phone_number" value="111111111"/>
            <column name="fax_country_code"/>
            <column name="fax_area_code"/>
            <column name="fax_phone_number"/>
            <column name="email" value="rambo@gmail.com"/>
            <column name="create_datetime" valueDate="2015-09-10T10:17:35.45"/>
            <column name="deleted" valueNumeric="0"/>
            <column name="notification_include" valueNumeric="1"/>
            <column name="user_id" valueNumeric="108141"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="contact">
            <column name="id" valueNumeric="113303"/>
            <column name="organization_name" value="Mordor Child Company"/>
            <column name="street_addres1" value="Columbia 23542"/>
            <column name="street_addres2" value=""/>
            <column name="city" value=""/>
            <column name="state_province" value="Cordoba"/>
            <column name="postal_code" value="500000"/>
            <column name="country_code" value="AG"/>
            <column name="last_name" value="Caesar"/>
            <column name="first_name" value="Gaivs Ivlivs"/>
            <column name="person_initial"/>
            <column name="person_title"/>
            <column name="phone_country_code" valueNumeric="111"/>
            <column name="phone_area_code" valueNumeric="1111"/>
            <column name="phone_phone_number" value="111111111"/>
            <column name="fax_country_code"/>
            <column name="fax_area_code"/>
            <column name="fax_phone_number"/>
            <column name="email" value="rambo@gmail.com"/>
            <column name="create_datetime" valueDate="2015-09-10T10:28:58.536"/>
            <column name="deleted" valueNumeric="0"/>
            <column name="notification_include"/>
            <column name="user_id"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="contact">
            <column name="id" valueNumeric="113304"/>
            <column name="organization_name" value="Mordor Child Company"/>
            <column name="street_addres1" value="Columbia 23542"/>
            <column name="street_addres2" value=""/>
            <column name="city" value=""/>
            <column name="state_province" value="Cordoba"/>
            <column name="postal_code" value="500000"/>
            <column name="country_code" value="AG"/>
            <column name="last_name" value="Caesar"/>
            <column name="first_name" value="Gaivs Ivlivs"/>
            <column name="person_initial"/>
            <column name="person_title"/>
            <column name="phone_country_code" valueNumeric="111"/>
            <column name="phone_area_code" valueNumeric="1111"/>
            <column name="phone_phone_number" value="111111111"/>
            <column name="fax_country_code"/>
            <column name="fax_area_code"/>
            <column name="fax_phone_number"/>
            <column name="email" value="rambo@gmail.com"/>
            <column name="create_datetime" valueDate="2015-09-10T10:28:58.639"/>
            <column name="deleted" valueNumeric="0"/>
            <column name="notification_include" valueNumeric="1"/>
            <column name="user_id" valueNumeric="108143"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <insert tableName="contact_map">
            <column name="id" valueNumeric="791200"/>
            <column name="contact_id" valueNumeric="113300"/>
            <column name="table_id" valueNumeric="5"/>
            <column name="foreign_id" valueNumeric="10"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="contact_map">
            <column name="id" valueNumeric="791201"/>
            <column name="contact_id" valueNumeric="113301"/>
            <column name="table_id" valueNumeric="10"/>
            <column name="foreign_id" valueNumeric="108140"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="contact_map">
            <column name="id" valueNumeric="791202"/>
            <column name="contact_id" valueNumeric="113302"/>
            <column name="table_id" valueNumeric="10"/>
            <column name="foreign_id" valueNumeric="108141"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="contact_map">
            <column name="id" valueNumeric="791203"/>
            <column name="contact_id" valueNumeric="113303"/>
            <column name="table_id" valueNumeric="5"/>
            <column name="foreign_id" valueNumeric="11"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="contact_map">
            <column name="id" valueNumeric="791204"/>
            <column name="contact_id" valueNumeric="113304"/>
            <column name="table_id" valueNumeric="10"/>
            <column name="foreign_id" valueNumeric="108143"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <insert tableName="currency_entity_map">
            <column name="currency_id" valueNumeric="1"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="currency_entity_map">
            <column name="currency_id" valueNumeric="2"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>

        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="6"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="12"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="13"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="7"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="8"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="10"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="3"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="2"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="11"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="4"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="5"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="1"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="9"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="10"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="1"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="9"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="3"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="6"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="13"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="7"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="12"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="11"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="4"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="5"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="8"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>
        <insert tableName="entity_report_map">
            <column name="report_id" valueNumeric="2"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>

        <insert tableName="order_status">
            <column name="id" valueNumeric="500"/>
            <column name="order_status_flag" valueNumeric="0"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="order_status">
            <column name="id" valueNumeric="501"/>
            <column name="order_status_flag" valueNumeric="1"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="order_status">
            <column name="id" valueNumeric="502"/>
            <column name="order_status_flag" valueNumeric="2"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="order_status">
            <column name="id" valueNumeric="503"/>
            <column name="order_status_flag" valueNumeric="3"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="order_status">
            <column name="id" valueNumeric="504"/>
            <column name="order_status_flag" valueNumeric="0"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>
        <insert tableName="order_status">
            <column name="id" valueNumeric="505"/>
            <column name="order_status_flag" valueNumeric="1"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>
        <insert tableName="order_status">
            <column name="id" valueNumeric="506"/>
            <column name="order_status_flag" valueNumeric="2"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>
        <insert tableName="order_status">
            <column name="id" valueNumeric="507"/>
            <column name="order_status_flag" valueNumeric="3"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>

        <insert tableName="breadcrumb">
            <column name="id" valueNumeric="20"/>
            <column name="user_id" valueNumeric="108140"/>
            <column name="controller" value="customer"/>
            <column name="action" value="list"/>
            <column name="name"/>
            <column name="object_id"/>
            <column name="description"/>
        </insert>
        <insert tableName="breadcrumb">
            <column name="id" valueNumeric="21"/>
            <column name="user_id" valueNumeric="108140"/>
            <column name="controller" value="customer"/>
            <column name="action" value="edit"/>
            <column name="name" value="create"/>
            <column name="object_id"/>
            <column name="description" value="create"/>
        </insert>
        <insert tableName="breadcrumb">
            <column name="id" valueNumeric="22"/>
            <column name="user_id" valueNumeric="108140"/>
            <column name="controller" value="customer"/>
            <column name="action" value="list"/>
            <column name="name"/>
            <column name="object_id" valueNumeric="108142"/>
            <column name="description"/>
        </insert>
        <insert tableName="breadcrumb">
            <column name="id" valueNumeric="23"/>
            <column name="user_id" valueNumeric="108143"/>
            <column name="controller" value="customer"/>
            <column name="action" value="list"/>
            <column name="name"/>
            <column name="object_id"/>
            <column name="description"/>
        </insert>
        <insert tableName="breadcrumb">
            <column name="id" valueNumeric="24"/>
            <column name="user_id" valueNumeric="108143"/>
            <column name="controller" value="customer"/>
            <column name="action" value="edit"/>
            <column name="name" value="create"/>
            <column name="object_id"/>
            <column name="description" value="create"/>
        </insert>
        <insert tableName="breadcrumb">
            <column name="id" valueNumeric="25"/>
            <column name="user_id" valueNumeric="108143"/>
            <column name="controller" value="customer"/>
            <column name="action" value="list"/>
            <column name="name"/>
            <column name="object_id" valueNumeric="108144"/>
            <column name="description"/>
        </insert>

        <insert tableName="entity_delivery_method_map">
            <column name="method_id" valueNumeric="1"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="entity_delivery_method_map">
            <column name="method_id" valueNumeric="2"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="entity_delivery_method_map">
            <column name="method_id" valueNumeric="3"/>
            <column name="entity_id" valueNumeric="10"/>
        </insert>
        <insert tableName="entity_delivery_method_map">
            <column name="method_id" valueNumeric="1"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>
        <insert tableName="entity_delivery_method_map">
            <column name="method_id" valueNumeric="2"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>
        <insert tableName="entity_delivery_method_map">
            <column name="method_id" valueNumeric="3"/>
            <column name="entity_id" valueNumeric="11"/>
        </insert>

        <insert tableName="enumeration">
            <column name="id" valueNumeric="60"/>
            <column name="entity_id" valueNumeric="10"/>
            <column name="name" value="ach.account.type"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="enumeration">
            <column name="id" valueNumeric="61"/>
            <column name="entity_id" valueNumeric="11"/>
            <column name="name" value="ach.account.type"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <insert tableName="generic_status">
            <column name="id" valueNumeric="39"/>
            <column name="dtype" value="order_change_status"/>
            <column name="status_value" valueNumeric="4"/>
            <column name="can_login"/>
            <column name="ordr" valueNumeric="1"/>
            <column name="attribute1" value="YES"/>
            <column name="entity_id" valueNumeric="10"/>
            <column name="deleted" valueNumeric="0"/>
        </insert>
        <insert tableName="generic_status">
            <column name="id" valueNumeric="40"/>
            <column name="dtype" value="order_change_status"/>
            <column name="status_value" valueNumeric="5"/>
            <column name="can_login"/>
            <column name="ordr" valueNumeric="1"/>
            <column name="attribute1" value="YES"/>
            <column name="entity_id" valueNumeric="11"/>
            <column name="deleted" valueNumeric="0"/>
        </insert>

        <insert tableName="validation_rule">
            <column name="id" valueNumeric="150"/>
            <column name="rule_type" value="PAYMENT_CARD"/>
            <column name="enabled" valueBoolean="true"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="validation_rule">
            <column name="id" valueNumeric="151"/>
            <column name="rule_type" value="REGEX"/>
            <column name="enabled" valueBoolean="true"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="validation_rule">
            <column name="id" valueNumeric="152"/>
            <column name="rule_type" value="REGEX"/>
            <column name="enabled" valueBoolean="true"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="validation_rule">
            <column name="id" valueNumeric="153"/>
            <column name="rule_type" value="PAYMENT_CARD"/>
            <column name="enabled" valueBoolean="true"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="validation_rule">
            <column name="id" valueNumeric="154"/>
            <column name="rule_type" value="REGEX"/>
            <column name="enabled" valueBoolean="true"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="validation_rule">
            <column name="id" valueNumeric="155"/>
            <column name="rule_type" value="REGEX"/>
            <column name="enabled" valueBoolean="true"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <insert tableName="preference">
            <column name="id" valueNumeric="60"/>
            <column name="type_id" valueNumeric="14"/>
            <column name="table_id" valueNumeric="5"/>
            <column name="foreign_id" valueNumeric="10"/>
            <column name="value" value="1"/>
        </insert>
        <insert tableName="preference">
            <column name="id" valueNumeric="61"/>
            <column name="type_id" valueNumeric="18"/>
            <column name="table_id" valueNumeric="5"/>
            <column name="foreign_id" valueNumeric="10"/>
            <column name="value" value=""/>
        </insert>
        <insert tableName="preference">
            <column name="id" valueNumeric="62"/>
            <column name="type_id" valueNumeric="19"/>
            <column name="table_id" valueNumeric="5"/>
            <column name="foreign_id" valueNumeric="10"/>
            <column name="value" value="1"/>
        </insert>
        <insert tableName="preference">
            <column name="id" valueNumeric="63"/>
            <column name="type_id" valueNumeric="14"/>
            <column name="table_id" valueNumeric="5"/>
            <column name="foreign_id" valueNumeric="11"/>
            <column name="value" value="1"/>
        </insert>
        <insert tableName="preference">
            <column name="id" valueNumeric="64"/>
            <column name="type_id" valueNumeric="18"/>
            <column name="table_id" valueNumeric="5"/>
            <column name="foreign_id" valueNumeric="11"/>
            <column name="value" value=""/>
        </insert>
        <insert tableName="preference">
            <column name="id" valueNumeric="65"/>
            <column name="type_id" valueNumeric="19"/>
            <column name="table_id" valueNumeric="5"/>
            <column name="foreign_id" valueNumeric="11"/>
            <column name="value" value="1"/>
        </insert>

        <insert tableName="enumeration_values">
            <column name="id" valueNumeric="70000"/>
            <column name="enumeration_id" valueNumeric="60"/>
            <column name="value" value="CHECKING"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="enumeration_values">
            <column name="id" valueNumeric="70001"/>
            <column name="enumeration_id" valueNumeric="60"/>
            <column name="value" value="SAVINGS"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="enumeration_values">
            <column name="id" valueNumeric="70002"/>
            <column name="enumeration_id" valueNumeric="61"/>
            <column name="value" value="CHECKING"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="enumeration_values">
            <column name="id" valueNumeric="70003"/>
            <column name="enumeration_id" valueNumeric="61"/>
            <column name="value" value="SAVINGS"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="62"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="60"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="36"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="43"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="130"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="10"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="12"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="14"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="162"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="16"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="901"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="152"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="170"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="160"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="99"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="97"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="95"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="25"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="93"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="27"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="91"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="103"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="71"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="21"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="101"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="73"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="23"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="53"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="51"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="133"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="141"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="80"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="131"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="143"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="31"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="42"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="1801"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="33"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="40"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="1803"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="121"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="61"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="35"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="63"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="44"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="902"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="11"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="13"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="161"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="15"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="17"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="19"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="900"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="153"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="151"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="98"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="96"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="94"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="24"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="92"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="74"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="26"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="90"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="104"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="120"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="140"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="20"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="102"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="70"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="22"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="72"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="52"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="50"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="28"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="142"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="1804"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="1901"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="132"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="144"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="54"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="41"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="1802"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="34"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="30"/>
            <column name="role_id" valueNumeric="130"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="62"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="60"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="36"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="43"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="130"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="10"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="12"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="14"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="16"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="901"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="97"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="95"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="25"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="93"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="91"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="103"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="71"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="21"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="101"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="73"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="23"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="53"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="51"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="133"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="141"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="131"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="143"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="31"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="42"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="33"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="40"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="61"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="35"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="63"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="44"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="11"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="13"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="15"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="17"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="98"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="96"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="94"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="24"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="92"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="74"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="90"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="104"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="140"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="20"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="102"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="70"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="22"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="72"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="52"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="50"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="28"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="142"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="132"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="144"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="54"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="41"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="34"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="30"/>
            <column name="role_id" valueNumeric="131"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="37"/>
            <column name="role_id" valueNumeric="132"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="24"/>
            <column name="role_id" valueNumeric="132"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="75"/>
            <column name="role_id" valueNumeric="132"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="92"/>
            <column name="role_id" valueNumeric="132"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="93"/>
            <column name="role_id" valueNumeric="132"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="90"/>
            <column name="role_id" valueNumeric="132"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="120"/>
            <column name="role_id" valueNumeric="132"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="91"/>
            <column name="role_id" valueNumeric="132"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="72"/>
            <column name="role_id" valueNumeric="132"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="15"/>
            <column name="role_id" valueNumeric="132"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="18"/>
            <column name="role_id" valueNumeric="132"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="29"/>
            <column name="role_id" valueNumeric="132"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="34"/>
            <column name="role_id" valueNumeric="132"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="30"/>
            <column name="role_id" valueNumeric="132"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="24"/>
            <column name="role_id" valueNumeric="133"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="92"/>
            <column name="role_id" valueNumeric="133"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="93"/>
            <column name="role_id" valueNumeric="133"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="90"/>
            <column name="role_id" valueNumeric="133"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="91"/>
            <column name="role_id" valueNumeric="133"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="20"/>
            <column name="role_id" valueNumeric="133"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="10"/>
            <column name="role_id" valueNumeric="133"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="21"/>
            <column name="role_id" valueNumeric="133"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="11"/>
            <column name="role_id" valueNumeric="133"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="72"/>
            <column name="role_id" valueNumeric="133"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="15"/>
            <column name="role_id" valueNumeric="133"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="34"/>
            <column name="role_id" valueNumeric="133"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="30"/>
            <column name="role_id" valueNumeric="133"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="62"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="60"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="36"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="43"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="130"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="10"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="12"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="14"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="162"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="16"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="901"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="152"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="170"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="160"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="99"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="97"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="95"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="25"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="93"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="27"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="91"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="103"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="71"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="21"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="101"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="73"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="23"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="53"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="51"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="133"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="141"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="80"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="131"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="143"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="31"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="42"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="1801"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="33"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="40"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="1803"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="121"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="61"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="35"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="63"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="44"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="902"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="11"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="13"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="161"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="15"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="17"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="19"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="900"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="153"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="151"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="98"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="96"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="94"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="24"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="92"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="74"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="26"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="90"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="104"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="120"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="140"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="20"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="102"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="70"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="22"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="72"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="52"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="50"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="28"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="142"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="1804"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="1901"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="132"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="144"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="54"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="41"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="1802"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="34"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="30"/>
            <column name="role_id" valueNumeric="134"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="62"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="60"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="36"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="43"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="130"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="10"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="12"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="14"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="16"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="901"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="97"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="95"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="25"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="93"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="91"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="103"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="71"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="21"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="101"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="73"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="23"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="53"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="51"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="133"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="141"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="131"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="143"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="31"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="42"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="33"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="40"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="61"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="35"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="63"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="44"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="11"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="13"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="15"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="17"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="98"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="96"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="94"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="24"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="92"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="74"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="90"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="104"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="140"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="20"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="102"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="70"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="22"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="72"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="52"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="50"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="28"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="142"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="132"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="144"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="54"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="41"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="34"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="30"/>
            <column name="role_id" valueNumeric="135"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="37"/>
            <column name="role_id" valueNumeric="136"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="24"/>
            <column name="role_id" valueNumeric="136"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="75"/>
            <column name="role_id" valueNumeric="136"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="92"/>
            <column name="role_id" valueNumeric="136"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="93"/>
            <column name="role_id" valueNumeric="136"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="90"/>
            <column name="role_id" valueNumeric="136"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="120"/>
            <column name="role_id" valueNumeric="136"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="91"/>
            <column name="role_id" valueNumeric="136"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="72"/>
            <column name="role_id" valueNumeric="136"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="15"/>
            <column name="role_id" valueNumeric="136"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="18"/>
            <column name="role_id" valueNumeric="136"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="29"/>
            <column name="role_id" valueNumeric="136"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="34"/>
            <column name="role_id" valueNumeric="136"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="30"/>
            <column name="role_id" valueNumeric="136"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="24"/>
            <column name="role_id" valueNumeric="137"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="92"/>
            <column name="role_id" valueNumeric="137"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="93"/>
            <column name="role_id" valueNumeric="137"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="90"/>
            <column name="role_id" valueNumeric="137"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="91"/>
            <column name="role_id" valueNumeric="137"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="20"/>
            <column name="role_id" valueNumeric="137"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="10"/>
            <column name="role_id" valueNumeric="137"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="21"/>
            <column name="role_id" valueNumeric="137"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="11"/>
            <column name="role_id" valueNumeric="137"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="72"/>
            <column name="role_id" valueNumeric="137"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="15"/>
            <column name="role_id" valueNumeric="137"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="34"/>
            <column name="role_id" valueNumeric="137"/>
        </insert>
        <insert tableName="permission_role_map">
            <column name="permission_id" valueNumeric="30"/>
            <column name="role_id" valueNumeric="137"/>
        </insert>

        <insert tableName="validation_rule_attributes">
            <column name="validation_rule_id" valueNumeric="151"/>
            <column name="attribute_name" value="regularExpression"/>
            <column name="attribute_value" value="(?:0[1-9]|1[0-2])/[0-9]{4}"/>
        </insert>
        <insert tableName="validation_rule_attributes">
            <column name="validation_rule_id" valueNumeric="152"/>
            <column name="attribute_name" value="regularExpression"/>
            <column name="attribute_value" value="(?&lt;=\\s|^)\\d+(?=\\s|$)"/>
        </insert>
        <insert tableName="validation_rule_attributes">
            <column name="validation_rule_id" valueNumeric="154"/>
            <column name="attribute_name" value="regularExpression"/>
            <column name="attribute_value" value="(?:0[1-9]|1[0-2])/[0-9]{4}"/>
        </insert>
        <insert tableName="validation_rule_attributes">
            <column name="validation_rule_id" valueNumeric="155"/>
            <column name="attribute_name" value="regularExpression"/>
            <column name="attribute_value" value="(?&lt;=\\s|^)\\d+(?=\\s|$)"/>
        </insert>

        <comment>Usage Pool</comment>
        <insert tableName="usage_pool">
            <column name="id" valueNumeric="1"/>
            <column name="quantity" valueNumeric="1"/>
            <column name="precedence" valueNumeric="1"/>
            <column name="cycle_period_unit" value="Months"/>
            <column name="cycle_period_value" valueNumeric="1"/>
            <column name="reset_value" value="ZERO"/>
            <column name="entity_id" valueNumeric="1"/>
            <column name="optlock" valueNumeric="1"/>
            <column name="created_date" valueDate="2015-08-17 12:03:34.965"/>
        </insert>
        <insert tableName="customer_usage_pool_map">
            <column name="id" valueNumeric="1"/>
            <column name="customer_id" valueNumeric="1"/>
            <column name="usage_pool_id" valueNumeric="1"/>
            <column name="quantity" valueNumeric="1"/>
            <column name="cycle_end_date" valueDate="2015-08-17 12:03:34.965"/>
            <column name="optlock" valueNumeric="1"/>
            <column name="plan_id" valueNumeric="9"/>
            <column name="initial_quantity" valueNumeric="1"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="117"/>
            <column name="foreign_id" valueComputed="1"/>
            <column name="psudo_column" value="name"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="FreeUsagePoolTest"/>
        </insert>

        <comment>Provisioning Command</comment>
        <insert tableName="provisioning_command">
            <column name="id" valueNumeric="1"/>
            <column name="dtype" value="payment"/>
            <column name="name" value="Test"/>
            <column name="entity_id" valueNumeric="1"/>
            <column name="execution_order" valueNumeric="1"/>
            <column name="create_date" valueDate="2015-07-13 18:56:32.148"/>
            <column name="last_update_date" valueDate="2015-07-13 18:56:32.148"/>
            <column name="command_status" value="SUCCESSFUL"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <comment>Provisioning Request</comment>
        <insert tableName="provisioning_request">
            <column name="id" valueNumeric="1"/>
            <column name="identifier" value="PR01"/>
            <column name="command_id" valueNumeric="1"/>
            <column name="submit" value="Yes"/>
            <column name="request_status" value="SUCCESSFUL"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
    </changeSet>

    <changeSet author="Cristian Ebbens" id="#14001 - Improper access test data - Updates" context="test">
        <comment>Order Change Type</comment>
        <update tableName="order_change_type">
            <column name="entity_id" valueNumeric="1"/>
            <where>id = 1</where>
        </update>
    </changeSet>

    <changeSet id="improper access control - update all sequences" author="Martin Peralta" context="test">
        <sql>
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from account_type)  WHERE name = 'account_type';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from ageing_entity_step)  WHERE name = 'ageing_entity_step';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from asset)  WHERE name = 'asset';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from asset_assignment)  WHERE name = 'asset_assignment';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from asset_status)  WHERE name = 'asset_status';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from asset_transition)  WHERE name = 'asset_transition';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from base_user)  WHERE name = 'base_user';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from billing_process)  WHERE name = 'billing_process';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from billing_process_configuration)  WHERE name = 'billing_process_configuration';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from breadcrumb)  WHERE name = 'breadcrumb';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from contact)  WHERE name = 'contact';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from contact_map)  WHERE name = 'contact_map';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from country)  WHERE name = 'country';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from currency)  WHERE name = 'currency';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from currency_exchange)  WHERE name = 'currency_exchange';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from customer)  WHERE name = 'customer';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from customer_notes)  WHERE name = 'customer_notes';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from customer_usage_pool_map)  WHERE name = 'customer_usage_pool_map';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from data_table_query)  WHERE name = 'data_table_query';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from data_table_query_entry)  WHERE name = 'data_table_query_entry';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from discount)  WHERE name = 'discount';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from discount_line)  WHERE name = 'discount_line';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from entity)  WHERE name = 'entity';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from entity_item_price_map)  WHERE name = 'entity_item_price_map';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from event_log)  WHERE name = 'event_log';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from event_log_message)  WHERE name = 'event_log_message';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from event_log_module)  WHERE name = 'event_log_module';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from filter)  WHERE name = 'filter';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from filter_set)  WHERE name = 'filter_set';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from generic_status)  WHERE name = 'generic_status';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from invoice)  WHERE name = 'invoice';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from invoice_delivery_method)  WHERE name = 'invoice_delivery_method';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from invoice_line)  WHERE name = 'invoice_line';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from invoice_line_type)  WHERE name = 'invoice_line_type';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from invoice_template)  WHERE name = 'invoice_template';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from invoice_template_version)  WHERE name = 'invoice_template_version';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from item)  WHERE name = 'item';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from item_dependency)  WHERE name = 'item_dependency';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from item_type)  WHERE name = 'item_type';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from language)  WHERE name = 'language';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from matching_field)  WHERE name = 'matching_field';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from mediation_cfg)  WHERE name = 'mediation_cfg';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from mediation_process)  WHERE name = 'mediation_process';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from meta_field_group)  WHERE name = 'meta_field_group';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from meta_field_name)  WHERE name = 'meta_field_name';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from meta_field_value)  WHERE name = 'meta_field_value';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from notification_category)  WHERE name = 'notification_category';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from notification_message)  WHERE name = 'notification_message';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from notification_message_arch)  WHERE name = 'notification_message_arch';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from notification_message_arch_line)  WHERE name = 'notification_message_arch_line';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from notification_message_line)  WHERE name = 'notification_message_line';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from notification_message_section)  WHERE name = 'notification_message_section';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from notification_message_type)  WHERE name = 'notification_message_type';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from order_billing_type)  WHERE name = 'order_billing_type';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from order_change)  WHERE name = 'order_change';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from order_change_plan_item)  WHERE name = 'order_change_plan_item';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from order_change_type)  WHERE name = 'order_change_type';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from order_line)  WHERE name = 'order_line';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from customer_account_info_type_timeline)  WHERE name = 'customer_account_info_type_timeline';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from order_status)  WHERE name = 'order_status';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from order_period)  WHERE name = 'order_period';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from enumeration_values)  WHERE name = 'enumeration_values';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from enumeration)  WHERE name = 'enumeration';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from validation_rule)  WHERE name = 'validation_rule';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from preference)  WHERE name = 'preference';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from rating_unit)  WHERE name = 'rating_unit';
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from role)  WHERE name = 'role';
            insert into jbilling_seqs (name, next_id) VALUES ('user_password',1);
            UPDATE jbilling_seqs SET next_id = (select coalesce(max(id) + 1,1) from user_password_map)  WHERE name = 'user_password';
        </sql>
    </changeSet>

    <changeSet id="Fixing meta field value" author="Aman Goel" context="base">
        <preConditions onFail="CONTINUE">
            <sqlCheck expectedResult='0'>select count(name) from jbilling_seqs where name='meta_field_value'</sqlCheck>
        </preConditions>

        <insert tableName="jbilling_seqs">
            <column name="name" value="meta_field_value"/>
            <column name="next_id" valueNumeric="1"/>
        </insert>
    </changeSet>

    <changeSet id="JBHP-15-login-timeout-issue" author="Bojan Dikovski" context="base">
        <!-- Removing the optimistic locking for the tables 'breadcrumb' and 'recent_item' -->
        <dropColumn
                columnName="version"
                tableName="breadcrumb"/>
        <dropColumn
                columnName="version"
                tableName="recent_item"/>
    </changeSet>

    <changeSet id="Delete breadcrumb for testing" author="Martin Peralta" context="test">
        <sql>delete from breadcrumb</sql>
    </changeSet>

    <changeSet id="#JBIIE-361 implement company level metfield" author="Vivek Yadav" context="base">
        <createTable tableName="entity_meta_field_map">
            <column name="entity_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="meta_field_value_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <addForeignKeyConstraint baseColumnNames="entity_id"
                                 baseTableName="entity_meta_field_map"
                                 constraintName="entity_meta_field_map_entity_id_fk"
                                 deferrable="false" initiallyDeferred="false" onDelete="NO ACTION"
                                 onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="entity"
                                 referencesUniqueColumn="false"/>
        <addForeignKeyConstraint baseColumnNames="meta_field_value_id"
                                 baseTableName="entity_meta_field_map"
                                 constraintName="entity_meta_field_map_meta_field_id_fk"
                                 deferrable="false" initiallyDeferred="false" onDelete="NO ACTION"
                                 onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="meta_field_value"
                                 referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet id="customer_enrollment" author="Neeraj Bhatt" context="base">
        <comment>This changeset is added for the customer enrollment Feature. </comment>
        <createTable tableName="customer_enrollment">
            <column name="id" type="java.sql.Types.INTEGER">
                <constraints nullable="false" primaryKey="true" primaryKeyName="customer_enrollment_pk"/>
            </column>
            <column name="account_type_id" type="java.sql.Types.INTEGER"/>
            <column name="entity_id" type="java.sql.Types.INTEGER"/>
            <column name="user_id" type="java.sql.Types.INTEGER"/>

            <column name="enrollment_status" type="varchar(255)"/>
            <column name="create_datetime" type="java.sql.Types.TIMESTAMP" >
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="java.sql.Types.INTEGER" >
                <constraints nullable="false"/>
            </column>
            <column name="OPTLOCK" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <addForeignKeyConstraint constraintName="customer_enrollment_account_type_id_FK"
                                 baseTableName="customer_enrollment" baseColumnNames="account_type_id"
                                 referencedTableName="account_type" referencedColumnNames="id"
                />

        <addForeignKeyConstraint constraintName="customer_enrollment_entity_id_FK"
                                 baseTableName="customer_enrollment" baseColumnNames="entity_id"
                                 referencedTableName="entity" referencedColumnNames="id"
                />


        <createTable tableName="customer_enrollment_comments">
            <column name="id" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="comment" type="varchar(1000)"/>
            <column name="creation_time" type="timestamp"/>
            <column name="user_id" type="java.sql.Types.INTEGER" />
            <column name="customer_enrollment_id" type="java.sql.Types.INTEGER" />
        </createTable>


        <addForeignKeyConstraint constraintName="customer_enrollment_comment_user_id_FK"
                                 baseTableName="customer_enrollment_comments" baseColumnNames="user_id"
                                 referencedTableName="base_user" referencedColumnNames="id"
                />
        <addForeignKeyConstraint constraintName="customer_enrollment_comment_customer_enrollment_id_FK"
                                 baseTableName="customer_enrollment_comments" baseColumnNames="customer_enrollment_id"
                                 referencedTableName="customer_enrollment" referencedColumnNames="id"
                />


        <createTable tableName="customer_enrollment_meta_field_map">
            <column name="customer_enrollment_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="meta_field_value_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <insert tableName="permission_type">
            <column name="id" valueComputed="(select max(types.id)+1 from permission_type types)"/>
            <column name="description" value="Customer Enrollment"/>
        </insert>

        <insert tableName="permission">
            <column name="id" valueComputed="910"/>
            <column name="type_id" valueComputed="(select max(pt.id) from permission_type pt)"/>
            <column name="foreign_id"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
            <column name="foreign_id" valueNumeric="910"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="View Enrollment"/>
        </insert>

        <insert tableName="permission">
            <column name="id" valueComputed="911"/>
            <column name="type_id" valueComputed="(select max(pt.id) from permission_type pt)"/>
            <column name="foreign_id"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
            <column name="foreign_id" valueNumeric="911"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Edit Enrollment"/>
        </insert>

        <insert tableName="permission">
            <column name="id" valueComputed="912"/>
            <column name="type_id" valueComputed="(select max(pt.id) from permission_type pt)"/>
            <column name="foreign_id"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
            <column name="foreign_id" valueComputed="912"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Delete Enrollment"/>
        </insert>

        <insert tableName="permission">
            <column name="id" valueNumeric="904"/>
            <column name="type_id" valueNumeric="9"/>
            <column name="foreign_id"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
            <column name="foreign_id" valueNumeric="904"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Show Enrollment Menu"/>
        </insert>


        <sql>
            insert into permission_role_map (permission_id,role_id)(select 904, id from role where role_type_id=2);
            insert into permission_role_map (permission_id,role_id)(select 910, id from role where role_type_id=2);
            insert into permission_role_map (permission_id,role_id)(select 911, id from role where role_type_id=2);
            insert into permission_role_map (permission_id,role_id)(select 912, id from role where role_type_id=2);
        </sql>


        <addColumn tableName="tab">
            <column name="parent_tab_id" type="java.sql.Types.INTEGER">
                <constraints nullable="true"/>
            </column>
        </addColumn>

        <insert tableName="tab">
            <column name="id" valueComputed="(select max(t.id)+1 from tab t)"/>
            <column name="message_code" value="menu.link.customers"/>
            <column name="controller_name" value="customer"/>
            <column name="access_url" value="/customer/list"/>
            <column name="required_role" value=""/>
            <column name="parent_tab_id" value="1"/>
            <column name="version" value="1"/>
        </insert>

        <insert tableName="tab">
            <column name="id" valueComputed="(select max(t.id)+1 from tab t)"/>
            <column name="message_code" value="menu.link.enrollment"/>
            <column name="controller_name" value="customerEnrollment"/>
            <column name="access_url" value="/customerEnrollment/list"/>
            <column name="required_role" value=""/>
            <column name="parent_tab_id" value="1"/>
            <column name="version" value="1"/>
        </insert>

    </changeSet>

    <changeSet id="edi_transaction" author="Neeraj Bhatt" context="base">
        <comment>Change for edit Transaction. </comment>
        <createTable tableName="edi_type">
            <column name="id" type="java.sql.Types.INTEGER">
                <constraints nullable="false" primaryKey="true" primaryKeyName="edi_type_pk"/>
            </column>
            <column name="name" type="varchar(255)">
                <constraints nullable="false"/>
            </column>

            <column name="path" type="varchar(255)">
                <constraints nullable="false"/>
            </column>

            <column name="global" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>

            <column name="entity_id" type="java.sql.Types.INTEGER"/>

            <column name="create_datetime" type="java.sql.Types.TIMESTAMP" >
                <constraints nullable="false"/>
            </column>

            <column name="OPTLOCK" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="edi_suffix" type="java.sql.Types.VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <insert tableName="jbilling_seqs">
            <column name="name" value="edi_type"/>
            <column name="next_id" valueNumeric="1"/>
        </insert>


        <addForeignKeyConstraint constraintName="edi_type_entity_id_FK"
                                 baseTableName="edi_type" baseColumnNames="entity_id"
                                 referencedTableName="entity" referencedColumnNames="id"
                />

        <createTable tableName="edi_file">
            <column name="id" type="java.sql.Types.INTEGER">
                <constraints nullable="false" primaryKey="true" primaryKeyName="edi_file_pk"/>
            </column>

            <column name="name" type="varchar(255)">
                <constraints nullable="false"/>
            </column>

            <column name="create_datetime" type="java.sql.Types.TIMESTAMP" >
                <constraints nullable="false"/>
            </column>

            <column name="OPTLOCK" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>

            <column name="entity_id" type="java.sql.Types.INTEGER"/>

            <column name="edi_type_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>

            <column name="transaction_type" type="varchar(255)">
                <constraints nullable="false"/>
            </column>

            <column name="edi_status_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>

            <column name="edi_exception_code_id" type="java.sql.Types.INTEGER">
                <constraints nullable="true"/>
            </column>
        </createTable>
        <insert tableName="jbilling_seqs">
            <column name="name" value="edi_file"/>
            <column name="next_id" valueNumeric="1"/>
        </insert>
        <addForeignKeyConstraint constraintName="edi_file_entity_id_FK"
                                 baseTableName="edi_file" baseColumnNames="entity_id"
                                 referencedTableName="entity" referencedColumnNames="id"
                />

        <addForeignKeyConstraint constraintName="edi_file_edi_type_id_FK"
                                 baseTableName="edi_file" baseColumnNames="edi_type_id"
                                 referencedTableName="edi_type" referencedColumnNames="id"
                />


        <createTable tableName="edi_file_record">
            <column name="id" type="java.sql.Types.INTEGER">
                <constraints nullable="false" primaryKey="true" primaryKeyName="edi_file_record_pk"/>
            </column>
            <column name="record_order" type="java.sql.Types.INTEGER"/>

            <column name="edi_file_field_header" type="varchar(255)">
                <constraints nullable="false"/>
            </column>

            <column name="create_datetime" type="java.sql.Types.TIMESTAMP" />

            <column name="OPTLOCK" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>

            <column name="entity_id" type="java.sql.Types.INTEGER"/>

            <column name="edi_file_id" type="java.sql.Types.INTEGER" >
                <constraints nullable="false"/>
            </column>

            <column name="total_file_field" type="java.sql.Types.INTEGER"/>


        </createTable>
        <insert tableName="jbilling_seqs">
            <column name="name" value="edi_record"/>
            <column name="next_id" valueNumeric="1"/>
        </insert>
        <addForeignKeyConstraint constraintName="edi_file_record_entity_id_FK"
                                 baseTableName="edi_file_record" baseColumnNames="entity_id"
                                 referencedTableName="entity" referencedColumnNames="id" />

        <addForeignKeyConstraint constraintName="edi_file_record_edi_file_id_FK"
                                 baseTableName="edi_file_record" baseColumnNames="edi_file_id"
                                 referencedTableName="edi_file" referencedColumnNames="id"
                />

        <createTable tableName="edi_file_field">
            <column name="id" type="java.sql.Types.INTEGER">
                <constraints nullable="false" primaryKey="true" primaryKeyName="edi_file_record_field_pk"/>
            </column>

            <column name="edi_file_field_key" type="varchar(255)">
                <constraints nullable="false"/>
            </column>

            <column name="edi_file_field_value" type="varchar(255)" />

            <column name="edi_file_record_id" type="java.sql.Types.INTEGER"/>

            <column name="comment" type="varchar(255)"/>

            <column name="field_order" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>

        </createTable>
        <insert tableName="jbilling_seqs">
            <column name="name" value="edi_file_field"/>
            <column name="next_id" valueNumeric="1"/>
        </insert>
        <addForeignKeyConstraint constraintName="edi_file_field_edi_file_record_id_FK"
                                 baseTableName="edi_file_field" baseColumnNames="edi_file_record_id"
                                 referencedTableName="edi_file_record" referencedColumnNames="id" />

        <insert tableName="permission">
            <column name="id" valueNumeric="903"/>
            <column name="type_id" valueNumeric="9"/>
            <column name="foreign_id"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
            <column name="foreign_id" valueNumeric="903"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Show EDI menu"/>
        </insert>


        <insert tableName="permission_type">
            <column name="id" valueComputed="(select max(types.id)+1 from permission_type types)"/>
            <column name="description" value="EDI"/>
        </insert>

        <insert tableName="permission">
            <column name="id" valueComputed="920"/>
            <column name="type_id" valueComputed="(select max(pt.id) from permission_type pt)"/>
            <column name="foreign_id"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
            <column name="foreign_id" valueNumeric="920"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="View EDI Types"/>
        </insert>


        <insert tableName="permission">
            <column name="id" valueComputed="921"/>
            <column name="type_id" valueComputed="(select max(pt.id) from permission_type pt)"/>
            <column name="foreign_id"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
            <column name="foreign_id" valueNumeric="921"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Edit EDI Types"/>
        </insert>

        <insert tableName="permission">
            <column name="id" valueComputed="922"/>
            <column name="type_id" valueComputed="(select max(pt.id) from permission_type pt)"/>
            <column name="foreign_id"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
            <column name="foreign_id" valueNumeric="922"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="View EDI Files"/>
        </insert>

        <sql>
            insert into permission_role_map (permission_id,role_id)(select 903, id from role where role_type_id=2);
            insert into permission_role_map (permission_id,role_id)(select 920, id from role where role_type_id=2);
            insert into permission_role_map (permission_id,role_id)(select 921, id from role where role_type_id=2);
            insert into permission_role_map (permission_id,role_id)(select 922, id from role where role_type_id=2);
        </sql>

        <insert tableName="tab">
            <column name="id" valueComputed="(select max(t.id)+1 from tab t)"/>
            <column name="message_code" value="menu.link.edi"/>
            <column name="controller_name" value="ediType"/>
            <column name="access_url" value="/ediType/list"/>
            <column name="required_role" value=""/>
            <column name="default_order" value="7"/>
            <column name="version" value="1"/>
        </insert>

        <createTable tableName="edi_type_entity_map">
            <column name="edi_type_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="entity_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
        </createTable>

    </changeSet>

    <changeSet id="JBIIE-23 Added dependency metafield " author="Vivek Yadav" context="base">

        <addColumn tableName="meta_field_name">
            <column name="data_table_id" type="java.sql.Types.INTEGER">
                <constraints nullable="true"/>
            </column>
            <column name="help_description" type="java.sql.Types.VARCHAR(1024)">
                <constraints nullable="true"/>
            </column>
            <column name="help_content_url" type="java.sql.Types.VARCHAR(1024)">
                <constraints nullable="true"/>
            </column>
        </addColumn>

        <createTable tableName="meta_field_dependency_map">
            <column name="meta_field_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="dependent_meta_field_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>

        </createTable>

        <addForeignKeyConstraint baseColumnNames="meta_field_id"
                                 baseTableName="meta_field_dependency_map"
                                 constraintName="meta_field_dependency_map_meta_field_id_fk"
                                 referencedColumnNames="id" referencedTableName="meta_field_name"/>
        <addForeignKeyConstraint baseColumnNames="dependent_meta_field_id"
                                 baseTableName="meta_field_dependency_map"
                                 constraintName="meta_field_dependency_map_dependent_meta_field_id_fk"
                                 referencedColumnNames="id" referencedTableName="meta_field_name"/>
    </changeSet>


    <changeSet id="edi_status" author="Neeraj Bhatt" context="base">
        <comment>EDI File status. </comment>
        <createTable tableName="edi_file_status">

            <column name="id" type="java.sql.Types.INTEGER">
                <constraints nullable="false" primaryKey="true" primaryKeyName="edi_file_status_pk"/>
            </column>

            <column name="name" type="varchar(255)">
                <constraints nullable="false"/>
            </column>

            <column name="OPTLOCK" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>

            <column name="create_datetime" type="java.sql.Types.TIMESTAMP" >
                <constraints nullable="false"/>
            </column>

            <column defaultValueBoolean="false" name="is_error" type="java.sql.Types.BOOLEAN">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <insert tableName="edi_file_status">
            <column name="id" valueNumeric="1"/>
            <column name="name" value="Processing"/>
            <column name="OPTLOCK" valueNumeric="1"/>
            <column name="create_datetime" valueDate="2015-01-01"/>
        </insert>

        <insert tableName="edi_file_status">
            <column name="id" valueNumeric="2"/>
            <column name="name" value="Processed"/>
            <column name="OPTLOCK" valueNumeric="1"/>
            <column name="is_error" valueBoolean="true"/>
            <column name="create_datetime" valueDate="2015-01-01"/>
        </insert>

        <insert tableName="edi_file_status">
            <column name="id" valueNumeric="3"/>
            <column name="name" value="Error Detected"/>
            <column name="OPTLOCK" valueNumeric="1"/>
            <column name="create_datetime" valueDate="2015-01-01"/>
        </insert>

        <insert tableName="jbilling_seqs">
            <column name="name" value="edi_file_status"/>
            <column name="next_id" valueComputed="(select max(id)+1 from edi_file_status)"/>
        </insert>

        <createTable tableName="edi_type_edi_status_map">
            <column name="edi_type_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="edi_status_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="edi_exception_code" author="Aman Goel" context="base">
        <comment>EDI File Exception Code.</comment>
        <createTable tableName="edi_file_exception_code">

            <column name="id" type="java.sql.Types.INTEGER">
                <constraints nullable="false" primaryKey="true" primaryKeyName="edi_file_exception_code_pk"/>
            </column>

            <column name="exception_code" type="varchar(255)">
                <constraints nullable="false"/>
            </column>

            <column name="description" type="varchar(255)">
                <constraints nullable="true"/>
            </column>

            <column name="OPTLOCK" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>

            <column name="status_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <addForeignKeyConstraint constraintName="edi_file_exception_status_id_FK"
                                 baseTableName="edi_file_exception_code" baseColumnNames="status_id"
                                 referencedTableName="edi_file_status" referencedColumnNames="id"
                />
        <insert tableName="jbilling_seqs">
            <column name="name" value="edi_file_exception_code"/>
            <column name="next_id" valueNumeric="1"/>
        </insert>
    </changeSet>

    <changeSet id="#JBIIE-45 - Customer Information Screen" author="Cristian Ebbens" context="base">
        <comment>Add validation rule for Asset reservation duration</comment>
        <addColumn tableName="entity">
            <column name="customer_information_design" type="java.sql.Types.LONGVARCHAR" />
        </addColumn>
    </changeSet>

    <changeSet id="JBIIE-70 Added Customer Enrollment plugin" author="Vivek Yadav">
        <comment>Add new plug-in for generating file argument and set new status for EDIFile.</comment>
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="17"/>
            <column name="class_name" value="com.sapienter.jbilling.server.customerEnrollment.task.CustomerEnrollmentFileGenerationTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Customer enrollment file generator"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="This plugin works for generating file for customer enrollment."/>
        </insert>

        <comment>Add new plug-in for Sending enrollment to LDC.</comment>
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="22"/>
            <column name="class_name" value="com.sapienter.jbilling.server.customerEnrollment.task.SendEnrollmentTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Send enrollment to LDC"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="This plugin works Sending enrollment to LDC."/>
        </insert>

        <comment>Add new plug-in for Parsing file form coming from ESCO.</comment>
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="22"/>
            <column name="class_name" value="com.sapienter.jbilling.server.customerEnrollment.task.EnrollmentResponseParserTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Enrollment response parser"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="This plugin will parse data coming from ESCO to LDC."/>
        </insert>
    </changeSet>

    <changeSet author="Neeraj Bhatt" context="base" id="Source Uploder: pluggable tasks">
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="(select max(t.id)+1 from pluggable_task_type t)"/>
            <column name="category_id" valueNumeric="26"/>
            <column name="class_name" value="com.sapienter.jbilling.server.process.task.FtpRemoteUploadTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>
    </changeSet>

    <changeSet id="JBIIE-138-customer_enrollment_enhancement" author="Neeraj Bhatt" context="base">
        <addColumn tableName="customer_enrollment">
            <column name="parent_customer_id" type="java.sql.Types.INTEGER"/>
            <column name="parent_enrollment_id"  type="java.sql.Types.INTEGER"/>
        </addColumn>

    </changeSet>
    <changeSet author="Neeraj Bhatt" context="base" id="JBIIE-53-Meter Read">
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="22"/>
            <column name="class_name" value="com.sapienter.jbilling.server.ediTransaction.task.MeterReadParserTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Meter data parser"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="This plugin will parse data comes as a meter read."/>
        </insert>
    </changeSet>

    <changeSet id="JBIIE-164 - Added EDI Reports tab" author="Oscar Bidabehere" context="base">
        <insert tableName="tab">
            <column name="id" valueComputed="(select max(t.id)+1 from tab t)"/>
            <column name="message_code" value="menu.link.edi.file"/>
            <column name="controller_name" value="ediFile"/>
            <column name="access_url" value="/ediType/list"/>
            <column name="required_role" value=""/>
            <column name="parent_tab_id" valueComputed="(select id from tab where message_code = 'menu.link.edi')"/>
            <column name="version" value="1"/>
        </insert>

        <insert tableName="tab">
            <column name="id" valueComputed="(select max(t.id)+1 from tab t)"/>
            <column name="message_code" value="menu.link.edi.reports"/>
            <column name="controller_name" value="ediReport"/>
            <column name="access_url" value="/ediReport/list"/>
            <column name="required_role" value=""/>
            <column name="parent_tab_id" valueComputed="(select id from tab where message_code = 'menu.link.edi')"/>
            <column name="version" value="1"/>
        </insert>
    </changeSet>

    <changeSet id="JBIIE-225 Add column comment in edi file" author="Vivek Yadav" context="base">
        <addColumn tableName="edi_file">
            <column name="comment" type="java.sql.Types.VARCHAR(1024)"/>
        </addColumn>
    </changeSet>

    <changeSet id="JBIIE-157: Add new ageing report" author="Cristian Ebbens" context="base">
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select max(rp.id)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'ageing_balance')"/>
            <column name="dtype" value="string"/>
            <column name="name" value="company"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select max(rp.id)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'ageing_balance')"/>
            <column name="dtype" value="string"/>
            <column name="name" value="division"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select max(rp.id)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'ageing_balance')"/>
            <column name="dtype" value="integer"/>
            <column name="name" value="customer_id"/>
        </insert>

        <insert tableName="report">
            <column name="id" valueComputed="(select max(r.id)+1 from report r)"/>
            <column name="type_id" valueNumeric="1"/>
            <column name="name" value="summary_ageing_balance"/>
            <column name="file_name" value="summary_ageing_balance.jasper"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select max(rp.id)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'summary_ageing_balance')"/>
            <column name="dtype" value="string"/>
            <column name="name" value="company"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select max(rp.id)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'summary_ageing_balance')"/>
            <column name="dtype" value="string"/>
            <column name="name" value="division"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select max(rp.id)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'summary_ageing_balance')"/>
            <column name="dtype" value="integer"/>
            <column name="name" value="customer_id"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="100"/>
            <column name="foreign_id" valueComputed="(select id from report r where r.name = 'summary_ageing_balance')"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Summary balance ageing report. Shows the age of outstanding customer balances."/>
        </insert>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="(select max(r.id)+1 from report r)"/>
            <where>name='report'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="(select max(rp.id)+1 from report_parameter rp)"/>
            <where>name='report_parameter'</where>
        </update>
        <sql>
            INSERT INTO entity_report_map(report_id, entity_id)
            SELECT (SELECT r.id from report r WHERE r.name = 'summary_ageing_balance'), id
            FROM entity
        </sql>
    </changeSet>

    <changeSet id="JBIIE-164 - Fix EDI Reports tabs" author="Oscar Bidabehere" context="base">
        <update tableName="tab">
            <column name="controller_name" value="ediType"/>
            <column name="access_url" value="/ediType/index"/>
            <column name="message_code" value="menu.link.edi"/>
            <where>
                message_code = 'menu.link.edi.file'
            </where>
        </update>
    </changeSet>


    <changeSet author="Gerhard Maree" context="base" id="JBIIE-151 - Bill Register Summary Report">
        <insert tableName="report">
            <column name="id" valueComputed="(select coalesce(max(r.id), 1)+1 from report r)"/>
            <column name="type_id" valueComputed="(select id from report_type rt where rt.name = 'invoice')"/>
            <column name="name" value="billing_register_summary"/>
            <column name="file_name" value="billing_register_summary.jasper"/>
            <column name="optlock" valueNumeric="1"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'billing_register_summary')"/>
            <column name="dtype" value="integer"/>
            <column name="name" value="item_type_id"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'billing_register_summary')"/>
            <column name="dtype" value="integer"/>
            <column name="name" value="item_id"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'billing_register_summary')"/>
            <column name="dtype" value="string"/>
            <column name="name" value="division"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'billing_register_summary')"/>
            <column name="dtype" value="string"/>
            <column name="name" value="state"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'billing_register_summary')"/>
            <column name="dtype" value="date"/>
            <column name="name" value="start_date"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'billing_register_summary')"/>
            <column name="dtype" value="date"/>
            <column name="name" value="end_date"/>
        </insert>

        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'billing_register_summary')"/>
            <column name="dtype" value="string"/>
            <column name="name" value="itemName"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'billing_register_summary')"/>
            <column name="dtype" value="string"/>
            <column name="name" value="itemTypeName"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'billing_register_summary')"/>
            <column name="dtype" value="string"/>
            <column name="name" value="entityNames"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueComputed="(select id from jbilling_table where name = 'report')"/>
            <column name="foreign_id" valueComputed="(select id from report r where r.name = 'billing_register_summary')"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Summary Billing Register"/>
        </insert>

        <sql>
            INSERT INTO entity_report_map(report_id, entity_id)
            SELECT (SELECT r.id from report r WHERE r.name = 'billing_register_summary'), id
            FROM entity
        </sql>
    </changeSet>

    <changeSet author="Gerhard Maree" context="base" id="JBIIE-151 - Bill Register Summary Report - Update Plan">
        <update tableName="report_parameter">
            <column name="name" value="planName"/>
            <where>
                name = 'itemTypeName' and report_id = (select id from report r where r.name = 'billing_register_summary')
            </where>
        </update>
        <update tableName="report_parameter">
            <column name="name" value="plan_id"/>
            <where>
                name = 'item_type_id' and report_id = (select id from report r where r.name = 'billing_register_summary')
            </where>
        </update>
    </changeSet>

    <changeSet author="Gerhard Maree" context="base" id="JBIIE-151 - Billing Register Detail Report">
        <insert tableName="report">
            <column name="id" valueComputed="(select coalesce(max(r.id), 1)+1 from report r)"/>
            <column name="type_id" valueComputed="(select id from report_type rt where rt.name = 'invoice')"/>
            <column name="name" value="billing_register_detail"/>
            <column name="file_name" value="billing_register_detail.jasper"/>
            <column name="optlock" valueNumeric="1"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'billing_register_detail')"/>
            <column name="dtype" value="integer"/>
            <column name="name" value="item_type_id"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'billing_register_detail')"/>
            <column name="dtype" value="integer"/>
            <column name="name" value="item_id"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'billing_register_detail')"/>
            <column name="dtype" value="string"/>
            <column name="name" value="division"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'billing_register_detail')"/>
            <column name="dtype" value="string"/>
            <column name="name" value="state"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'billing_register_detail')"/>
            <column name="dtype" value="date"/>
            <column name="name" value="start_date"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'billing_register_detail')"/>
            <column name="dtype" value="date"/>
            <column name="name" value="end_date"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueComputed="(select id from jbilling_table where name = 'report')"/>
            <column name="foreign_id" valueComputed="(select id from report r where r.name = 'billing_register_detail')"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Detail Billing Register"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'billing_register_detail')"/>
            <column name="dtype" value="string"/>
            <column name="name" value="itemName"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'billing_register_detail')"/>
            <column name="dtype" value="string"/>
            <column name="name" value="itemTypeName"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'billing_register_detail')"/>
            <column name="dtype" value="string"/>
            <column name="name" value="entityNames"/>
        </insert>

        <sql>
            INSERT INTO entity_report_map(report_id, entity_id)
            SELECT (SELECT r.id from report r WHERE r.name = 'billing_register_detail'), id
            FROM entity
        </sql>
    </changeSet>

    <changeSet author="Gerhard Maree" context="base" id="JBIIE-151 - Bill Register Detail Report - Update Plan">
        <update tableName="report_parameter">
            <column name="name" value="planName"/>
            <where>
                name = 'itemTypeName' and report_id = (select id from report r where r.name = 'billing_register_detail')
            </where>
        </update>
        <update tableName="report_parameter">
            <column name="name" value="plan_id"/>
            <where>
                name = 'item_type_id' and report_id = (select id from report r where r.name = 'billing_register_detail')
            </where>
        </update>
    </changeSet>

    <changeSet author="Gerhard Maree" context="base" id="JBIIE-371 - Purchase of Receivables Report">
        <insert tableName="report">
            <column name="id" valueComputed="(select coalesce(max(r.id), 1)+1 from report r)"/>
            <column name="type_id" valueComputed="(select id from report_type rt where rt.name = 'payment')"/>
            <column name="name" value="purchase_of_receivables"/>
            <column name="file_name" value="purchase_of_receivables.jasper"/>
            <column name="optlock" valueNumeric="1"/>
        </insert>

        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'purchase_of_receivables')"/>
            <column name="dtype" value="string"/>
            <column name="name" value="division"/>
        </insert>

        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'purchase_of_receivables')"/>
            <column name="dtype" value="date"/>
            <column name="name" value="start_date"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'purchase_of_receivables')"/>
            <column name="dtype" value="date"/>
            <column name="name" value="end_date"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select coalesce(max(rp.id), 1)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'purchase_of_receivables')"/>
            <column name="dtype" value="string"/>
            <column name="name" value="entityNames"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueComputed="(select id from jbilling_table where name = 'report')"/>
            <column name="foreign_id" valueComputed="(select id from report r where r.name = 'purchase_of_receivables')"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Purchase of Receivables"/>
        </insert>

        <sql>
            INSERT INTO entity_report_map(report_id, entity_id)
            SELECT (SELECT r.id from report r WHERE r.name = 'purchase_of_receivables'), id
            FROM entity
        </sql>
    </changeSet>

    <changeSet id="JBIIE-258: Ageing Reports - Rename customer_id parameter and delete company parameter" author="Cristian Ebbens" context="base">
        <delete tableName="report_parameter">
            <where>report_id = (select id from report r where r.name = 'ageing_balance') AND name = 'company'</where>
        </delete>
        <update tableName="report_parameter">
            <column name="name" value="user_id"/>
            <where>report_id = (select id from report r where r.name = 'ageing_balance') AND name = 'customer_id'</where>
        </update>
        <delete tableName="report_parameter">
            <where>report_id = (select id from report r where r.name = 'summary_ageing_balance') AND name = 'company'</where>
        </delete>
        <update tableName="report_parameter">
            <column name="name" value="user_id"/>
            <where>report_id = (select id from report r where r.name = 'summary_ageing_balance') AND name = 'customer_id'</where>
        </update>
    </changeSet>

    <changeSet author="Neeraj Bhatt" context="base" id="JBIIE-54-Payment Read">
        <validCheckSum>7:54a069744eb47390e6e5c60247c32216</validCheckSum>
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="22"/>
            <column name="class_name" value="com.sapienter.jbilling.server.ediTransaction.task.PaymentParserTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Payment Parser"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="This plugin will parse data comes as a Payment read."/>
        </insert>
        <addColumn tableName="edi_file_record">
            <column name="comment" type="java.sql.Types.VARCHAR(1024)"/>
        </addColumn>

        <insert tableName="payment_method_template">
            <column name="id" valueComputed="(select max(efs.id)+1 from payment_method_template efs)"/>
            <column name="template_name" value="EDI"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <insert tableName="payment_method">
            <column name="id" valueComputed="(select max(id)+1 from payment_method)"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="35"/>
            <column name="foreign_id" valueComputed="(select max(id) from payment_method)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="EDI Payment"/>
        </insert>

        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="(select max(t.id)+1 from payment_method t)"/>
            <where>name='payment_method'</where>
        </update>
    </changeSet>

    <changeSet id="JBIIE-831 - Change jbilling sequence for new allocation size" author="Gerhard Maree" context="base">
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from payment_method t),1)"/>
            <where>name='payment_method'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from meta_field_name t),1)"/>
            <where>name='meta_field_name'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from meta_field_group t),1)"/>
            <where>name='meta_field_group'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from validation_rule t),1)"/>
            <where>name='validation_rule'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from enumeration t),1)"/>
            <where>name='enumeration'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from enumeration_values t),1)"/>
            <where>name='enumeration_values'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from edi_file_exception_code t),1)"/>
            <where>name='edi_file_exception_code'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from edi_file_status t),1)"/>
            <where>name='edi_file_status'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from edi_type t),1)"/>
            <where>name='edi_type'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from entity_item_price_map t),1)"/>
            <where>name='entity_item_price_map'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from item_type t),1)"/>
            <where>name='item_type'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from plan t),1)"/>
            <where>name='plan'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from plan_item_bundle t),1)"/>
            <where>name='plan_item_bundle'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from item t),1)"/>
            <where>name='item'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from plan_item t),1)"/>
            <where>name='plan_item'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from notification_message t),1)"/>
            <where>name='notification_message'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from notification_message_line t),1)"/>
            <where>name='notification_message_line'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from notification_message_section t),1)"/>
            <where>name='notification_message_section'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from notification_message_type t),1)"/>
            <where>name='notification_message_type'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from payment_method_type t),1)"/>
            <where>name='payment_method_type'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from pluggable_task t),1)"/>
            <where>name='pluggable_task'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from pluggable_task_parameter t),1)"/>
            <where>name='pluggable_task_parameter'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from price_model t),1)"/>
            <where>name='price_model'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from rating_unit t),1)"/>
            <where>name='rating_unit'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from route t),1)"/>
            <where>name='route'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from route_rate_card t),1)"/>
            <where>name='route_rate_card'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from account_type t),1)"/>
            <where>name='account_type'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="coalesce((select max(t.id)+1 from matching_field t),1)"/>
            <where>name='matching_field'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="(select coalesce(max(id)/10,0)+1 from meta_field_value mfv)"/>
            <where>name='meta_field_value'</where>
        </update>
    </changeSet>

    <changeSet id="JBIIE-103 Create new Schedular plugin customer termination" author="Vivek Yadav" context="base">

        <comment>Add new plug-in handle drop request coming from LDC.</comment>
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="22"/>
            <column name="class_name" value="com.sapienter.jbilling.server.earlyTermination.task.CustomerTerminationTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Request for customer termination"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="This plugin works Sending enrollment to LDC."/>
        </insert>
    </changeSet>

    <changeSet author="Aman Goel" context="base" id="JBIIE-Invoice-Read">
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="22"/>
            <column name="class_name" value="com.sapienter.jbilling.server.ediTransaction.invoiceRead.InvoiceReadTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Invoice Read Processor"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="This plugin will process the invoice read."/>
        </insert>
    </changeSet>

    <changeSet id="#JBIIE-299 - Add uiColor property to CompanyDTO" author="Oscar Bidabehere" context="base">
        <addColumn tableName="entity">
            <column name="ui_color" type="java.sql.Types.INTEGER" />
        </addColumn>
    </changeSet>

    <changeSet id="JBIIE 433 - Printed Invoice - Indexes" author="Gerhard Maree" context="base">
        <createIndex tableName="edi_file_field" indexName="edi_file_field_key_idx">
            <column name="edi_file_field_key"></column>
        </createIndex>
    </changeSet>

    <changeSet id="JBIIE-269 - Ageing Balance Reports: Dropped / Not Dropped filter missing" author="Cristian Ebbens" context="base">
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select max(rp.id)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'ageing_balance')"/>
            <column name="dtype" value="list"/>
            <column name="name" value="customer_statuses"/>
        </insert>
        <insert tableName="report_parameter">
            <column name="id" valueComputed="(select max(rp.id)+1 from report_parameter rp)"/>
            <column name="report_id" valueComputed="(select id from report r where r.name = 'summary_ageing_balance')"/>
            <column name="dtype" value="list"/>
            <column name="name" value="customer_statuses"/>
        </insert>
    </changeSet>

    <changeSet id="JBIIE-338 - AR Ageing Report - Summary - User ID is irrelevant" author="Cristian Ebbens" context="base">
        <delete tableName="report_parameter">
            <where>report_id = (select id from report r where r.name = 'summary_ageing_balance') and name = 'user_id'</where>
        </delete>
    </changeSet>

    <changeSet id="JBIIE-157 - Develop Ageing Report - Re-create original Collections Balance Details report" author="Cristian Ebbens" context="base">
        <insert tableName="report">
            <column name="id" valueComputed="(select max(r.id)+1 from report r)"/>
            <column name="type_id" valueNumeric="1"/>
            <column name="name" value="accounts_receivable_ageing_detail"/>
            <column name="file_name" value="accounts_receivable_ageing_detail.jasper"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>
        <update tableName="report_parameter">
            <column name="report_id" valueComputed="(select id from report r where r.name = 'accounts_receivable_ageing_detail')"/>
            <where>report_id = (select id from report r where r.name = 'ageing_balance')</where>
        </update>
        <sql>
            INSERT INTO entity_report_map(report_id, entity_id)
            SELECT (SELECT r.id from report r WHERE r.name = 'accounts_receivable_ageing_detail'), id FROM entity
        </sql>

        <update tableName="report">
            <column name="name" value="accounts_receivable_ageing_summary"/>
            <column name="file_name" value="accounts_receivable_ageing_summary.jasper"/>
            <where>name = 'summary_ageing_balance'</where>
        </update>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="100"/>
            <column name="foreign_id" valueComputed="(select id from report r where r.name = 'accounts_receivable_ageing_detail')"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Accounts receivable ageing detail report."/>
        </insert>

        <update tableName="international_description">
            <column name="psudo_column" value="description"/>
            <column name="content" value="Accounts receivable ageing summary report."/>
            <where>table_id = 100 and foreign_id = (select id from report r where r.name = 'accounts_receivable_ageing_summary') and psudo_column = 'description'</where>
        </update>
    </changeSet>

    <changeSet id="JBIIE-416 - Bulk Enrollment Implementation" author="Cristian Ebbens" context="base">
        <addColumn tableName="customer_enrollment">
            <column name="bulk_enrollment" type="java.sql.Types.BOOLEAN" defaultValueBoolean="false"/>
            <column name="broker_id" type="java.sql.Types.VARCHAR(255)"/>
        </addColumn>

        <comment>Bulk Customer Enrollment Reader scheduled task</comment>
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="(select max(id)+1 from pluggable_task_type)"/>
            <column name="category_id" valueNumeric="22"/>
            <column name="class_name" value="com.sapienter.jbilling.server.customerEnrollment.task.BulkEnrollmentReaderTask"/>
            <column name="min_parameters" valueNumeric="1"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select ptt.id from pluggable_task_type ptt where ptt.class_name = 'com.sapienter.jbilling.server.customerEnrollment.task.BulkEnrollmentReaderTask')"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Bulk Customer Enrollment"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select ptt.id from pluggable_task_type ptt where ptt.class_name = 'com.sapienter.jbilling.server.customerEnrollment.task.BulkEnrollmentReaderTask')"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Processes bulk customer enrollment CSV files."/>
        </insert>

        <comment>Broker Response Manager event listener task</comment>
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="(select max(id)+1 from pluggable_task_type)"/>
            <column name="category_id" valueNumeric="17"/>
            <column name="class_name" value="com.sapienter.jbilling.server.customerEnrollment.task.BrokerResponseManagerTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select ptt.id from pluggable_task_type ptt where ptt.class_name = 'com.sapienter.jbilling.server.customerEnrollment.task.BrokerResponseManagerTask')"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Customer Enrollment Response Manager"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select id from pluggable_task_type where class_name = 'com.sapienter.jbilling.server.customerEnrollment.task.BrokerResponseManagerTask')"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Generates customer enrollment CSV response files."/>
        </insert>

        <addColumn tableName="entity">
            <column name="broker_catalog_version" type="java.sql.Types.VARCHAR(6)" defaultValue="000000"/>
        </addColumn>

        <comment>Broker Catalog Creator event listener task</comment>
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="(select max(id)+1 from pluggable_task_type)"/>
            <column name="category_id" valueNumeric="17"/>
            <column name="class_name" value="com.sapienter.jbilling.server.customerEnrollment.task.BrokerCatalogCreatorTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select ptt.id from pluggable_task_type ptt where ptt.class_name = 'com.sapienter.jbilling.server.customerEnrollment.task.BrokerCatalogCreatorTask')"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Product Catalog Creator"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select id from pluggable_task_type where class_name = 'com.sapienter.jbilling.server.customerEnrollment.task.BrokerCatalogCreatorTask')"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Creates the products catalog for the broker."/>
        </insert>
    </changeSet>

    <changeSet id="JBIIE-416 - Bulk Enrollment Implementation - Sequence update" author="Cristian Ebbens" context="base">
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="(select max(id)+1 from pluggable_task_type)"/>
            <where>name='pluggable_task_type'</where>
        </update>
    </changeSet>

    <changeSet author="Gerhard Maree" id="JBIIE-471 - ESCO Termination - Permissions" context="base">
        <insert tableName="permission">
            <column name="id" valueComputed="1100"/>
            <column name="type_id" valueComputed="(select t.id from permission_type t where t.description='Customer')"/>
            <column name="foreign_id"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="59"/>
            <column name="foreign_id" valueComputed="1100"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="ESCO Initiated Termination"/>
        </insert>

        <sql>
            insert into permission_role_map(role_id, permission_id)
            select r.id as role_id, 1100 as permission_id from role r where r.role_type_id=2 group by r.id;
        </sql>
    </changeSet>

    <changeSet author="Gerhard Maree" id="JBIIE-471 - ESCO Termination - Scheduled Task" context="base">
        <comment>Add new plug-in for parsing termination response.</comment>
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="22"/>
            <column name="class_name" value="com.sapienter.jbilling.server.ediTransaction.task.ParseEscoTerminationResponseTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Parse Termination Response"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Parse response from ESCO initiated termiation request."/>
        </insert>
    </changeSet>

    <changeSet id="JBIIE-553 - Rate Change - Pluggable Task" author="Gerhard" context="base">
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="(select max(t.id)+1 from pluggable_task_type t)"/>
            <column name="category_id" valueNumeric="17"/>
            <column name="class_name" value="com.sapienter.jbilling.server.ediTransaction.task.BillingModelModificationTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="(select coalesce(max(t.id)+1,1) from pluggable_task_type t)"/>
            <where>name='pluggable_task_type'</where>
        </update>
    </changeSet>

    <changeSet id="#JBIIE-375 - EDI status Enhncement" author="neeraj Bhatt" context="base">
        <createTable tableName="associated_edi_status_edi_status_map">
            <column name="edi_status_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="associated_edi_status_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addForeignKeyConstraint baseColumnNames="edi_status_id"
                                 baseTableName="associated_edi_status_edi_status_map"
                                 constraintName="associated_edi_status_edi_status_map_edi_status_id_fk"
                                 referencedColumnNames="id" referencedTableName="edi_file_status"/>
        <addForeignKeyConstraint baseColumnNames="associated_edi_status_id"
                                 baseTableName="associated_edi_status_edi_status_map"
                                 constraintName="associated_edi_status_edi_status_map_associated_meta_field_id_fk"
                                 referencedColumnNames="id" referencedTableName="edi_file_status"/>
    </changeSet>

    <changeSet id="#JBIIE-452 - zip plus+4 plugin " author="neeraj Bhatt" context="base">
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="17"/>
            <column name="class_name" value="com.sapienter.jbilling.server.process.task.SureAddressTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Zip+4 code validation plugin"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="This plugin is used to find the zip+4 code using SureAddress third party API"/>
        </insert>
    </changeSet>

    <changeSet id="JBIIE- Create new Schedular plugin Acknowledge parser task" author="Vivek Yadav" context="base">

        <comment>Add new plug-in to handle Acknowledge for EDI file.</comment>
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="22"/>
            <column name="class_name" value="com.sapienter.jbilling.server.ediTransaction.task.AcknowledgementParserTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Request for Acknowledge"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="This plugin works to send Acknowledge for EDI file."/>
        </insert>
    </changeSet>

    <changeSet id="JBIIE Invoice EDI file generation" author="Aman Goel">
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="17"/>
            <column name="class_name" value="com.sapienter.jbilling.server.ediTransaction.task.InvoiceBuildTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Invoice EDI transaction Generator"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="This plugin works for generating Invoice EDI transaction."/>
        </insert>
    </changeSet>

    <changeSet id="#JBIIE-229 add preference for parent child customer hierarchy" context="base" author="Vivek Yadav">
        <comment>This prefernce will manage relation between parent customer from parent company and child customer from child company</comment>

        <insert tableName="preference_type">
            <column name="ID" valueComputed="77" />
            <column name="DEF_VALUE" value="0" />
        </insert>
        <insert tableName="international_description">
            <column name="TABLE_ID" valueNumeric="50" />
            <column name="FOREIGN_ID" valueComputed="(SELECT MAX(pt.id) FROM preference_type pt)" />
            <column name="PSUDO_COLUMN" value="description" />
            <column name="LANGUAGE_ID" valueNumeric="1" />
            <column name="CONTENT" value="Allow sub account in child company" />
        </insert>
        <insert tableName="international_description">
            <column name="TABLE_ID" valueNumeric="50" />
            <column name="FOREIGN_ID" valueComputed="(SELECT MAX(pt.id) FROM preference_type pt)" />
            <column name="PSUDO_COLUMN" value="instruction" />
            <column name="LANGUAGE_ID" valueNumeric="1" />
            <column name="CONTENT" value="If preference is set 1, it allow sub account In child company whose parent account exist in parent company." />
        </insert>
    </changeSet>

    <changeSet author="Gerhard Maree" context="base" id="JBIIE-686 - Delete old entries in spring batch">
        <comment>Scheduled plugin to delete old entries from spring batch</comment>
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="22"/>
            <column name="class_name" value="com.sapienter.jbilling.server.pluggableTask.BatchDataCleanupTask"/>
            <column name="min_parameters" valueNumeric="2"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Delete old entries from Spring Batch"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="The scheduled plugin will delete old entries from spring batch."/>
        </insert>
    </changeSet>

    <!--
    <changeSet author="Gerhard Maree" context="base" id="JBIIE-686 - Fix BatchDataCleanTask entries">
        <comment>Scheduled plugin to delete old entries from spring batch</comment>

        <createIndex tableName="batch_job_execution_params" indexName="b_job_exec_params_exec_id_idx">
            <column name="job_execution_id" type="integer"/>
        </createIndex>
        <createIndex tableName="batch_job_execution_context" indexName="b_job_exec_ctx_exec_id_idx">
            <column name="job_execution_id" type="integer"/>
        </createIndex>
        <createIndex tableName="batch_job_execution" indexName="b_job_exec_id_idx">
            <column name="job_execution_id" type="integer"/>
        </createIndex>
        <createIndex tableName="batch_job_execution" indexName="b_job_exec_instance_id_idx">
            <column name="job_instance_id" type="integer"/>
        </createIndex>
        <createIndex tableName="batch_job_instance" indexName="b_job_instance_instance_id_idx">
            <column name="job_instance_id" type="integer"/>
        </createIndex>
        <createIndex tableName="batch_step_execution" indexName="b_step_exec_instance_id_idx">
            <column name="job_execution_id" type="integer"/>
        </createIndex>
        <createIndex tableName="batch_step_execution" indexName="b_step_execn_exec_id_idx">
            <column name="step_execution_id" type="integer"/>
        </createIndex>
        <createIndex tableName="batch_step_execution_context" indexName="b_step_exec_ctx_exec_id_idx">
            <column name="step_execution_id" type="integer"/>
        </createIndex>

        <sql>
            <![CDATA[
            delete from pluggable_task_parameter where task_id in (
                select pt.id from pluggable_task pt where pt.type_id in
                    (select t.id from pluggable_task_type t where class_name = 'com.sapienter.jbilling.server.pluggableTask.BatchDataCleanupTask')
            );

            delete from pluggable_task pt where pt.type_id in
                (select t.id from pluggable_task_type t where class_name = 'com.sapienter.jbilling.server.pluggableTask.BatchDataCleanupTask');

            INSERT INTO pluggable_task (id, entity_id, type_id, processing_order, optlock)
            SELECT coalesce( (select max(id)+1 from pluggable_task),1) + (select count(*) from entity e2 where e.id > e2.id and e2.id <> e.id), e.id,
                (select t.id from pluggable_task_type t where t.class_name = 'com.sapienter.jbilling.server.pluggableTask.BatchDataCleanupTask'),
                coalesce((select max(p.processing_order)+1 from pluggable_task p where entity_id=e.id),1), 1
            FROM entity e;

            INSERT INTO pluggable_task_parameter (id, task_id, name, str_value, optlock)
            SELECT coalesce( (select max(id)+1 from pluggable_task_parameter),1) + (select count(1) from pluggable_task pt2 where pt.id > pt2.id and pt2.id <> pt.id and pt2.type_id in
                (select t.id from pluggable_task_type t where t.class_name = 'com.sapienter.jbilling.server.pluggableTask.BatchDataCleanupTask')),
                pt.id, 'cron_exp', '50 20 0/1 * * ?', 1
            FROM pluggable_task pt where pt.type_id in (select t.id from pluggable_task_type t where t.class_name = 'com.sapienter.jbilling.server.pluggableTask.BatchDataCleanupTask');

            INSERT INTO pluggable_task_parameter (id, task_id, name, float_value, optlock)
            SELECT coalesce( (select max(id)+1 from pluggable_task_parameter),1) + (select count(1) from pluggable_task pt2 where pt.id > pt2.id and pt2.id <> pt.id and pt2.type_id in
                (select t.id from pluggable_task_type t where t.class_name = 'com.sapienter.jbilling.server.pluggableTask.BatchDataCleanupTask')),
                pt.id, 'age_days', 0.25, 1
            FROM pluggable_task pt where pt.type_id in (select t.id from pluggable_task_type t where t.class_name = 'com.sapienter.jbilling.server.pluggableTask.BatchDataCleanupTask');

            ]]>
        </sql>

        <update tableName="jbilling_seqs">
            <column name="next_id"  valueComputed="(coalesce( (select max(t.id)+1 from pluggable_task_parameter t), 1))"/>
            <where>name = 'pluggable_task_parameter'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id"  valueComputed="(coalesce( (select max(t.id)+1 from pluggable_task t), 1))"/>
            <where>name = 'pluggable_task'</where>
        </update>
    </changeSet>
    -->
    <changeSet author="Neeraj Bhatt" context="base" id="JBIIE-262-Change-Request-plugin">
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="22"/>
            <column name="class_name" value="com.sapienter.jbilling.server.ediTransaction.task.ChangeRequestParserTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueComputed="(select id from jbilling_table where name='pluggable_task_type')"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Change Request Parser"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueComputed="(select id from jbilling_table where name='pluggable_task_type')"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="This plugin will process 814 Change Request."/>
        </insert>


        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="22"/>
            <column name="class_name" value="com.sapienter.jbilling.server.ediTransaction.task.RateChangeTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueComputed="(select id from jbilling_table where name='pluggable_task_type')"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Rate Change EDI transaction Generator"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueComputed="(select id from jbilling_table where name='pluggable_task_type')"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="This plugin works for generating Rate Change EDI transaction."/>
        </insert>
    </changeSet>

    <changeSet id="JBIIE-553 - Auto Renewal" author="Cristian Ebbens" context="base">
        <comment>Auto Renewal scheduled task type</comment>
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="(select max(id)+1 from pluggable_task_type)"/>
            <column name="category_id" valueNumeric="22"/>
            <column name="class_name" value="com.sapienter.jbilling.server.pluggableTask.AutoRenewalTask"/>
            <column name="min_parameters" valueNumeric="2"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select ptt.id from pluggable_task_type ptt where ptt.class_name = 'com.sapienter.jbilling.server.pluggableTask.AutoRenewalTask')"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Auto Renewal"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select ptt.id from pluggable_task_type ptt where ptt.class_name = 'com.sapienter.jbilling.server.pluggableTask.AutoRenewalTask')"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Auto renewal of plan subscription after expiry."/>
        </insert>

        <comment>Sequences update</comment>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="(SELECT coalesce(max(id)+1, 1) FROM pluggable_task_type)"/>
            <where>name='pluggable_task_type'</where>
        </update>
    </changeSet>

    <changeSet id="Fixing route rate card id issue" author="Aman Goel" context="base">
        <preConditions onFail="CONTINUE">
            <sqlCheck expectedResult='0'>select count(name) from jbilling_seqs where name='route_rate_card'</sqlCheck>
        </preConditions>
        <insert tableName="jbilling_seqs">
            <column name="name" value="route_rate_card"/>
            <column name="next_id" valueNumeric="1"/>
        </insert>
    </changeSet>

    <changeSet id="JBIIE-511 - Fix comma issue with error message" author="Cristian Ebbens" context="base">
        <update tableName="international_description">
            <column name="content" value="The name is allowed to contain only alphanumeric&#44; underscore and hyphen characters"/>
            <where>content = 'The name is allowed to contain only alphanumeric, underscore and hyphen characters'</where>
        </update>
    </changeSet>

    <changeSet id="JBIIE-704 - Fix not receiving the Create Credentials notification" author="Javier Rivero">
        <update tableName="pluggable_task_type">
            <column name="min_parameters" valueNumeric="4"/>
            <where>class_name='com.sapienter.jbilling.server.pluggableTask.BasicEmailNotificationTask'</where>
        </update>
    </changeSet>

    <changeSet id="JBIIE-703-updating the change request file suffix" author="Neeraj Bhatt">
        <update tableName="edi_type">
            <column name="edi_suffix" value="814C"/>
            <where>edi_suffix='814CQ'</where>
        </update>
    </changeSet>


    <changeSet id="JBIIE-750 Bill Invoice Delay" author="Aman Goel" context="base">
        <comment>Activate Bill ready orders</comment>
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="(select max(id)+1 from pluggable_task_type)"/>
            <column name="category_id" valueNumeric="22"/>
            <column name="class_name" value="com.sapienter.jbilling.server.ediTransaction.task.ActivateOrderTask"/>
            <column name="min_parameters" valueNumeric="1"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select ptt.id from pluggable_task_type ptt where ptt.class_name = 'com.sapienter.jbilling.server.ediTransaction.task.ActivateOrderTask')"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Activate Order Task"/>
        </insert>
        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select ptt.id from pluggable_task_type ptt where ptt.class_name = 'com.sapienter.jbilling.server.ediTransaction.task.ActivateOrderTask')"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Activate bill ready type customer's Order after delay period."/>
        </insert>

        <comment>Sequences update</comment>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="(SELECT coalesce(max(id)+1, 1) FROM pluggable_task_type)"/>
            <where>name='pluggable_task_type'</where>
        </update>
    </changeSet>

    <changeSet id="JBIIE-629 Added Customer Enrollment plugin" author="neeraj bhatt" context="base">
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="17"/>
            <column name="class_name" value="com.sapienter.jbilling.server.ediTransaction.task.CommercialBundleOrderLineTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Add order line to an order created by Meter Read"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="This plugin add order line to order created by Meter Read."/>
        </insert>
    </changeSet>

    <changeSet context="base" author="Gerhard Maree" id="14213 - Line Item Taxes">
        <comment>Redmine 14213 - Line Item Tax on order quote and invoice</comment>

        <addColumn tableName="invoice_line">
            <column name="parent_line_id" type="java.sql.Types.INTEGER"/>
        </addColumn>
        <addForeignKeyConstraint  constraintName  = "invoice_line_fk_invoice_line"
              baseTableName   = "invoice_line" referencedTableName   = "invoice_line"
              baseColumnNames = "parent_line_id"  referencedColumnNames = "id"
        />
        <createIndex tableName = "invoice_line"
                     indexName = "invoice_line_fk_invoice_line" unique = "false">
            <column name = "parent_line_id"/>
        </createIndex>
    </changeSet>

    <changeSet id="14213 - Line Item Taxes - Meta Field Change" author="Gerhard Maree" context="base">
        <update tableName="meta_field_name">
            <column name="data_type" value="STRING" />
            <where>name='Suretax Response Trans Id'</where>
        </update>
    </changeSet>

    <changeSet id="14213 - Line Item Taxes - Suretax log" author="Gerhard Maree" context="base">
        <modifyDataType tableName="sure_tax_txn_log" columnName="resp_trans_id" newDataType="java.sql.Types.VARCHAR(50)"/>
    </changeSet>

    <changeSet context="base" author="Javier Rivero" id="JBIIE-785-BOA-file-processing-plugin">
        <comment>Jan 05, 2015 JBIIE-785 - Task that launches spring batch job to process BOA files</comment>

        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="(select max(p.id)+1 from pluggable_task_type p)"/>
            <column name="category_id" valueNumeric="22"/>
            <column name="class_name" value="com.sapienter.jbilling.server.boa.task.BOAFileProcessingTask"/>
            <column name="min_parameters" valueNumeric="4"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="22"/>
            <column name="foreign_id" valueComputed="(select max(p.id) from pluggable_task_type p)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Bank of America File Processing plugin"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="22"/>
            <column name="foreign_id" valueComputed="(select max(p.id) from pluggable_task_type p)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="The task launches spring batch job to process bank of America files"/>
        </insert>

        <update tableName="jbilling_seqs">
            <column name="next_id"  valueComputed="(select max(ptt.id)+1 from pluggable_task_type ptt)"/>
            <where>name='pluggable_task_type'</where>
        </update>
    </changeSet>

    <changeSet id="JBIIE-785-ACH-Return-notification-message" author="Javier Rivero" context="base">
        <insert tableName="notification_message_type">
            <column name="id" valueComputed="(select max(nmt.id)+1 from notification_message_type nmt)"/>
            <column name="category_id" valueNumeric="5"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="52"/>
            <column name="foreign_id" valueComputed="(select max(nmt.id) from notification_message_type nmt)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="BOA ACH Return"/>
        </insert>

        <update tableName="jbilling_seqs">
            <column name="next_id"  valueComputed="(select max(mt.id)+1 from notification_message_type mt)"/>
            <where>name='notification_message_type'</where>
        </update>
    </changeSet>

    <changeSet id="JBIIE-785-new_payment_method-bankwired" author="Javier Rivero" context="base">
        <validCheckSum>7:ca62bbbac3dbaa93e4468f1f2b8330b4</validCheckSum>
        <insert tableName="payment_method_template">
            <column name="id" valueComputed="(select coalesce(max(pm.id)+1,1) from payment_method_template pm)"/>
            <column name="template_name" value="Bank Wire"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <insert tableName="payment_method">
            <column name="id" valueComputed="(select max(id)+1 from payment_method)"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="35"/>
            <column name="foreign_id" valueComputed="(select max(id) from payment_method)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Bank Wire"/>
        </insert>

        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="(select max(t.id)+1 from payment_method t)"/>
            <where>name='payment_method'</where>
        </update>
    </changeSet>

    <changeSet author="Javier Rivero" id="JBIIE-785-Added-payment-tranfer-table" context="base" >
        <createTable tableName="payment_transfer">
            <column name="id" type="java.sql.Types.INTEGER">
                <constraints nullable="false" primaryKey="true" primaryKeyName="payment_transfer_pkey"/>
            </column>
            <column name="from_user_id" type="java.sql.Types.INTEGER"/>
            <column name="to_user_id" type="java.sql.Types.INTEGER"/>
            <column name="created_by" type="java.sql.Types.INTEGER"/>
            <column name="amount" type="java.sql.Types.NUMERIC(22,10)">
                <constraints nullable="false"/>
            </column>
            <column name="payment_id" type="java.sql.Types.INTEGER"/>
            <column name="create_datetime" type="java.sql.Types.TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column name="payment_transfer_notes" type="java.sql.Types.VARCHAR(500)"/>
            <column defaultValueNumeric="0" name="deleted" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="optlock" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="JBIIE-895 - NGES commissions - Partner" author="Gerhard Maree" context="base">
        <addColumn tableName="partner">
            <column name="broker_id" type="java.sql.Types.VARCHAR(50)" />
        </addColumn>
    </changeSet>

    <changeSet id="JBIIE-895 - NGES commissions - Partner Commission Process Run" author="Gerhard Maree" context="base">
        <addColumn tableName="partner_commission_process_run">
            <column name="error_count" type="java.sql.Types.INTEGER" />
        </addColumn>

        <sql>
            <![CDATA[
                UPDATE partner_commission_process_run set error_count = 0;
            ]]>
        </sql>
    </changeSet>

    <changeSet id="JBIIE-895 - NGES commissions - Partner Commission Value" author="Gerhard Maree" context="base">
        <insert tableName="jbilling_seqs">
            <column name="name" value="partner_commission_value"/>
            <column name="next_id" valueNumeric="1"/>
        </insert>

        <!-- Partner Commission Value -->
        <createTable tableName="partner_commission_value">
            <column name="id" type="java.sql.Types.INTEGER">
                <constraints nullable="false" primaryKey="true" primaryKeyName="partner_commission_value_pkey"/>
            </column>
            <column name="partner_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false" />
            </column>
            <column name="days" type="java.sql.Types.INTEGER">
                <constraints nullable="false" />
            </column>
            <column name="rate" type="java.sql.Types.NUMERIC(22,10)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="optlock" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addForeignKeyConstraint  constraintName  = "prtnr_commissn_val_fk_prtnr"
                                  baseTableName   = "partner_commission_value"          referencedTableName   = "partner"
                                  baseColumnNames = "partner_id"                        referencedColumnNames = "id"
                />
        <createIndex tableName = "partner_commission_value"
                     indexName = "prtnr_commissn_val_fk_prtnr" unique = "false">
            <column name = "partner_id"/>
        </createIndex>
    </changeSet>

    <changeSet id="JBIIE-895 - NGES commissions - Customer" author="Gerhard Maree" context="base">
        <!-- Customer -->
        <dropColumn tableName="customer" columnName="partner_id" />

        <!-- Customer Partner Map -->
        <createTable tableName="customer_partner_map">
            <column name="customer_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="partner_id" type="java.sql.Types.INTEGER">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addForeignKeyConstraint baseColumnNames="customer_id"
                                 baseTableName="customer_partner_map"
                                 constraintName="customer_prtnr_map_fk_cstmr"
                                 referencedColumnNames="id" referencedTableName="customer"/>
        <createIndex tableName = "customer_partner_map"
                     indexName = "customer_prtnr_map_fk_cstmr" unique = "false">
            <column name = "customer_id"/>
        </createIndex>

        <addForeignKeyConstraint baseColumnNames="partner_id"
                                 baseTableName="customer_partner_map"
                                 constraintName="customer_prtnr_map_fk_prtnr"
                                 referencedColumnNames="id" referencedTableName="partner"/>
        <createIndex tableName = "customer_partner_map"
                     indexName = "customer_prtnr_map_fk_prtnr" unique = "false">
            <column name = "partner_id"/>
        </createIndex>

    </changeSet>

    <changeSet id="JBIIE-895 - NGES commissions - Partner Commission" author="Gerhard Maree" context="base">
        <!-- Partner Commission -->
        <renameTable newTableName="partner_commission_line"
                     oldTableName="invoice_commission"/>

        <addColumn tableName="partner_commission_line">
            <column name="dtype" type="java.sql.Types.VARCHAR(20)" />
            <column name="customer_amount" type="java.sql.Types.NUMERIC(22,10)" />
            <column name="user_id" type="java.sql.Types.INTEGER" />
        </addColumn>

        <update tableName="partner_commission_line">
            <column name="dtype" type="java.sql.Types.VARCHAR(20)" value="REFERRAL" />
            <where>referral_amount > 0</where>
        </update>
        <update tableName="partner_commission_line">
            <column name="dtype" type="java.sql.Types.VARCHAR(20)" value="INVOICE" />
            <where>dtype is null</where>
        </update>

        <!-- keys and references -->
        <addPrimaryKey  tableName      = "partner_commission_line"
                        constraintName = "partner_commission_line_pk"
                        columnNames    = "id" />

        <addForeignKeyConstraint  constraintName  = "partner_commissn_lne_fk_prtnr"
                                  baseTableName   = "partner_commission_line" referencedTableName   = "partner"
                                  baseColumnNames = "partner_id"         referencedColumnNames = "id"
                />
        <createIndex tableName = "partner_commission_line"
                     indexName = "partner_commissn_lne_fk_prtnr" unique = "false">
            <column name = "partner_id"/>
        </createIndex>

        <addForeignKeyConstraint  constraintName  = "partner_commissn_lne_fk_rfrl"
                                  baseTableName   = "partner_commission_line"  referencedTableName   = "partner"
                                  baseColumnNames = "referral_partner_id" referencedColumnNames = "id"
                />
        <createIndex tableName = "partner_commission_line"
                     indexName = "partner_commissn_lne_fk_rfrl" unique = "false">
            <column name = "referral_partner_id"/>
        </createIndex>

        <addForeignKeyConstraint  constraintName  = "partner_commissn_lne_fk_invce"
                                  baseTableName   = "partner_commission_line" referencedTableName   = "invoice"
                                  baseColumnNames = "invoice_id"         referencedColumnNames = "id"
                />
        <createIndex tableName = "partner_commission_line"
                     indexName = "partner_commissn_lne_fk_invce" unique = "false">
            <column name = "invoice_id"/>
        </createIndex>


        <addPrimaryKey  tableName      = "partner_commission_process_run"
                        constraintName = "partner_commission_process_run_pk"
                        columnNames    = "id" />

        <addForeignKeyConstraint  constraintName  = "partner_commissn_lne_fk_prcss"
                                  baseTableName   = "partner_commission_line"        referencedTableName   = "partner_commission_process_run"
                                  baseColumnNames = "commission_process_run_id" referencedColumnNames = "id"
                />
        <createIndex tableName = "partner_commission_line"
                     indexName = "partner_commissn_lne_fk_prcss" unique = "false">
            <column name = "commission_process_run_id"/>
        </createIndex>


        <addPrimaryKey  tableName      = "partner_commission"
                        constraintName = "partner_commission_pk"
                        columnNames    = "id" />

        <addForeignKeyConstraint  constraintName  = "partner_commissn_lne_fk_comms"
                                  baseTableName   = "partner_commission_line" referencedTableName   = "partner_commission"
                                  baseColumnNames = "commission_id"      referencedColumnNames = "id"
                />
        <createIndex tableName = "partner_commission_line"
                     indexName = "partner_commissn_lne_fk_comms" unique = "false">
            <column name = "commission_id"/>
        </createIndex>

        <update tableName="jbilling_seqs">
            <column name="name" value="partner_commission_line"/>
            <where>name='invoice_commission'</where>
        </update>

    </changeSet>

    <changeSet id="JBIIE-895 - NGES commissions - Partner Commission - Line 2" author="Gerhard Maree" context="base">
        <addColumn tableName="partner_commission_line">
            <column name="reversal_id" type="java.sql.Types.INTEGER" />
        </addColumn>

        <addForeignKeyConstraint  constraintName  = "prtnr_cmm_lne_fk_prtnr_cmm_lne"
                                  baseTableName   = "partner_commission_line" referencedTableName   = "partner_commission_line"
                                  baseColumnNames = "reversal_id"         referencedColumnNames = "id"
                />
        <createIndex tableName = "partner_commission_line"
                     indexName = "prtnr_cmm_lne_fk_prtnr_cmm_lne" unique = "false">
            <column name = "reversal_id"/>
        </createIndex>
    </changeSet>

    <changeSet author="Gerhard Maree" id="JBIIE-895 - NGES commissions - Commission Reversal Task" context="base" >

        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="17"/>
            <column name="class_name" value="com.sapienter.jbilling.server.ediTransaction.task.CommissionReversalTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Reverse Commissions"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="If customers terminate their contract before the 'Minimum Month for Commissions' company metafield, all commission paid will be reversed."/>
        </insert>
    </changeSet>

    <changeSet author="Gerhard Maree" id="JBIIE-895 - NGES commissions - New Customer Broker Task" context="base" >

        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="17"/>
            <column name="class_name" value="com.sapienter.jbilling.server.ediTransaction.task.NewCustomerBrokerTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Unknown Broker for New Customer"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="When customers gets uploaded via the bulk load feature, it sometimes happen that the agent does not exist. This task will create these unknown agents."/>
        </insert>
    </changeSet>

    <changeSet id="JBIIE-895 - NGES commissions - Meta fields" author="Gerhard Maree">
        <sql>
            <![CDATA[
            INSERT INTO meta_field_name (id, entity_id, name, optlock, entity_type, data_type, is_disabled, is_mandatory, display_order, is_primary)
            SELECT coalesce( (select max(id)+1 from meta_field_name),1)+e.id, e.id, 'Minimum Month for Commissions', 1, 'COMPANY', 'DECIMAL', false, false, 5, true FROM entity e;
            ]]>
        </sql>

        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="(SELECT coalesce(max(id)+1, 1) FROM meta_field_name)"/>
            <where>name='meta_field_name'</where>
        </update>
    </changeSet>

    <changeSet author="Neeraj Bhatt" context="base" id="JBIIE-801-Plugin for Manually update the EDI File Status">
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="17"/>
            <column name="class_name" value="com.sapienter.jbilling.server.ediTransaction.task.UpdateEDIStatusProcessTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="This plugin used to create order and invoice from Meter read and Invoice Read via GUI"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="This Internal Event Plugin create order and invoice from Meter read and Invoice Read via GUI."/>
        </insert>
    </changeSet>

    <changeSet author="Javier Rivero" id="JBIIE-785-Added-boa_bai_tables" context="base" >
        <createTable tableName="boa_bai_processed_files">
            <column name="id" type="java.sql.Types.INTEGER">
                <constraints nullable="false" primaryKey="true" primaryKeyName="boa_processed_files_pkey"/>
            </column>
            <column name="file_name" type="java.sql.Types.VARCHAR(500)"/>
        </createTable>
        <createTable tableName="boa_bai_processing_errors">
            <column name="id" type="java.sql.Types.INTEGER">
                <constraints nullable="false" primaryKey="true" primaryKeyName="boa_processing_errors_pkey"/>
            </column>
            <column name="file_name" type="java.sql.Types.VARCHAR(500)"/>
            <column name="raw_data" type="java.sql.Types.VARCHAR(500)"/>
            <column name="processing_errors" type="java.sql.Types.VARCHAR(500)"/>
        </createTable>
    </changeSet>

    <changeSet author="Aman Goel" id="JBIIE-907-making-db-consistent-with-context-base" context="base" >
        <comment>
            There are tables in which some rows were inserted even for context base. Those should be inserted for context 'test' only.
        </comment>
        <delete tableName="notification_medium_type">
            <where>
                notification_id not in (select id from notification_message)
            </where>
        </delete>

        <delete tableName="notification_message_line">
            <where>
                message_section_id in (select id from notification_message_section where message_id is null)
            </where>
        </delete>
        <delete tableName="notification_message_section">
            <where>
                message_id is null
            </where>
        </delete>

        <comment>
            Ids should be increased to max in jbilling_seqs table
        </comment>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="(select max(t.id)+1 from payment_method_template t)"/>
            <where>name='payment_method_template'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="(select max(t.id)+1 from validation_rule t)"/>
            <where>name='validation_rule'</where>
        </update>

    </changeSet>

    <changeSet author="Neeraj Bhatt" id="JBIIE-914-configuring GenerateIntervalRecordTask plugin" context="base" >

        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="17"/>
            <column name="class_name" value="com.sapienter.jbilling.server.ediTransaction.task.GenerateIntervalRecordTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="NGES: This plugin used to Generate interval records"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="NGES : This Internal Event Plugin used to create missing interval record in the Meter Read."/>
        </insert>
    </changeSet>

    <changeSet id="JBIIE-971 - NGES Data Migration" author="Cristian Ebbens" context="base">
        <update tableName="meta_field_name">
            <column name="is_mandatory" valueBoolean="false"/>
            <where>name IN ('CYCLE_NUMBER', 'Rate Change Date')</where>
        </update>
    </changeSet>

    <changeSet id="JBIIE-659-Update jbilling seqs for plans" author="Aman Goel" context="test">
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="(select COALESCE(max(p.id),0)+1 from plan p)"/>
            <where>name='plan'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="(select COALESCE(max(pi.id),0)+1 from plan_item pi)"/>
            <where>name='plan_item'</where>
        </update>
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="(select COALESCE(max(pib.id),0)+1 from plan_item_bundle pib)"/>
            <where>name='plan_item_bundle'</where>
        </update>
    </changeSet>

    <changeSet id="JBIIE-659-Update jbilling seqs for price_model" author="Hitesh Yadav" context="test">
        <update tableName="jbilling_seqs">
            <column name="next_id" valueComputed="(select COALESCE(max(p.id),0)+1 from price_model p)"/>
            <where>name='price_model'</where>
        </update>
    </changeSet>

    <changeSet author="Hitesh Yadav" context="base"
               id="JBIIE-888-add foreign key constraint into metafield_group_meta_field_map table">
        <preConditions onFail="MARK_RAN">
            <not>
                <foreignKeyConstraintExists foreignKeyTableName="metafield_group_meta_field_map"
                                            foreignKeyName="mf_group_mf_map_fk_mf_group"/>
                <foreignKeyConstraintExists foreignKeyTableName="metafield_group_meta_field_map"
                                            foreignKeyName="mf_group_mf_map_fk_mf_value"/>
            </not>
        </preConditions>

        <addForeignKeyConstraint baseColumnNames="metafield_group_id" baseTableName="metafield_group_meta_field_map"
                                 constraintName="mf_group_mf_map_fk_mf_group" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="meta_field_group"/>
        <addForeignKeyConstraint baseColumnNames="meta_field_value_id" baseTableName="metafield_group_meta_field_map"
                                 constraintName="mf_group_mf_map_fk_mf_value" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="meta_field_name"/>
    </changeSet>

    <changeSet author="Gerhard Maree" context="base" id="JBIIE-895 - Customer Commission">
        <createTable tableName="customer_commission_def">
            <column name="user_id" type="java.sql.Types.INTEGER">
            </column>
            <column name="partner_id" type="java.sql.Types.INTEGER"/>
            <column name="rate" type="java.sql.Types.NUMERIC(22,10)"/>
        </createTable>

        <addPrimaryKey columnNames="user_id, partner_id"
                       constraintName="customer_commission_def_pk"
                       tableName="customer_commission_def" />
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="customer_commission_def"
                                 constraintName="customer_commission_def_fk_user" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="base_user" />
        <addForeignKeyConstraint baseColumnNames="partner_id" baseTableName="customer_commission_def"
                                 constraintName="customer_commission_def_fk_partner" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="partner" />
        <createIndex tableName = "customer_commission_def"
                     indexName = "customer_commission_def_fk_user" unique = "false">
            <column name = "user_id"/>
        </createIndex>
        <createIndex tableName = "customer_commission_def"
                     indexName = "customer_commission_def_fk_partner" unique = "false">
            <column name = "partner_id"/>
        </createIndex>

        <insert tableName="jbilling_seqs">
            <column name="name" value="customer_commission_def"/>
            <column name="next_id" valueNumeric="1"/>
        </insert>

    </changeSet>

    <changeSet id="Added Company Type property" author="Oscar Bidabehere" context="base">
        <addColumn tableName="entity">
            <column  name="type" type="java.sql.Types.VARCHAR(255)">
                <constraints nullable="true"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet author="Neeraj Bhatt" context="base" id="JBIIE-890-Validate customer account number plugin">
        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="17"/>
            <column name="class_name" value="com.sapienter.jbilling.server.customerEnrollment.task.NGESEnrollmentValidationTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="NGES: Enrollment Validation plugin"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="NGES : This plugin validate enrollment before enrollment creation"/>
        </insert>
    </changeSet>

    <changeSet id="Correct name in jbilling_seqs for customer_usage_pool_map table" author="Igor Poteryaev" context="base">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="1">select count(*) from jbilling_seqs where name = 'customer_usage_pool'</sqlCheck>
        </preConditions>
        <delete tableName="jbilling_seqs">
            <where>name='customer_usage_pool_map'</where>
        </delete>
        <sql>update jbilling_seqs
                set name = 'customer_usage_pool_map'
              where name = 'customer_usage_pool'
        </sql>
    </changeSet>

    <changeSet author="Neeraj Bhatt" id="JBIIE-1104 - Commission update when delete an Invoice" context="base" >

        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="17"/>
            <column name="class_name" value="com.sapienter.jbilling.server.ediTransaction.task.CommissionInvoiceDeleteTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Reverse commission on delete invoice"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="When an invoice will deleted the agent commission will be reverse"/>
        </insert>
    </changeSet>


    <changeSet author="Gerhard Maree" context="base" id="JBIIE-1237 - Email address for bulk invoice">
        <comment>Recipient email address that will receive invoice bundle</comment>
        <insert tableName="preference_type">
            <column name="id" valueNumeric="78"/>
            <column name="def_value" value=""/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="50"/>
            <column name="foreign_id" valueNumeric="78"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Bulk invoice recipient"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="50"/>
            <column name="foreign_id" valueNumeric="78"/>
            <column name="psudo_column" value="instruction"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Recipient email addresses that will receive invoice bundle."/>
        </insert>

    </changeSet>

    <changeSet id="JB-406: Mediation on multiple machines" author="Marco Manzi">
        <addColumn tableName="recent_item">
            <column name="uuid" type="java.sql.Types.BINARY"/>
        </addColumn>
        <addColumn tableName="breadcrumb">
            <column name="uuid" type="java.sql.Types.BINARY"/>
        </addColumn>
    </changeSet>

    <changeSet id="JBIIE-971 - NGES Data Migration - Optional Email meta field" author="Cristian Ebbens" context="base">
            <update tableName="meta_field_name">
                <column name="is_mandatory" valueBoolean="false"/>
                <where>name = 'Email' AND entity_type = 'ACCOUNT_TYPE'</where>
            </update>
    </changeSet>

    <changeSet id="Optional DIVISION meta field" author="Cristian Ebbens" context="base">
            <update tableName="meta_field_name">
                <column name="is_mandatory" valueBoolean="false"/>
                <where>name = 'DIVISION'</where>
            </update>
    </changeSet>

    <changeSet author="Aman Goel" id="JBIIE-1213 - Sure tax plugin for NGES" context="base" >

        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="4"/>
            <column name="class_name" value="com.sapienter.jbilling.server.process.task.NGESSureTaxWithExemptionCompositionTask"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Sure tax for NGES with tax exemption"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Calculate taxes with exemptions defined for customer"/>
        </insert>
    </changeSet>

    <changeSet author="Neeraj Bhatt" id="Credentials email message notification for reseller - test" context="Test" >

        <insert tableName="notification_message">
            <column name="id" valueComputed="(select max(nm.id)+1 from notification_message nm)"/>
            <column name="type_id" valueComputed="21"/>
            <column name="entity_id" valueNumeric="3"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="use_flag" valueNumeric="1"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <update tableName="jbilling_seqs">
            <column name="next_id"  valueComputed="(select max(nm.id) from notification_message nm)"/>
            <where>name = 'notification_message'</where>
        </update>

        <comment>This is the section message for the title</comment>
        <insert tableName="notification_message_section">
            <column name="id" valueComputed="(select max(nms.id)+1 from notification_message_section nms)"/>
            <column name="message_id" valueComputed="(select max(id) from notification_message)"/>
            <column name="section" valueNumeric="1"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <insert tableName="notification_message_line">
            <column name="id" valueComputed="(select max(nml.id)+1 from notification_message_line nml)"/>
            <column name="message_section_id" valueComputed="(select max(id) from notification_message_section)"/>
            <column name="content" value="Your registration credentials"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <comment>This is the section message for the content of the email</comment>
        <insert tableName="notification_message_section">
            <column name="id" valueComputed="(select max(nms.id)+1 from notification_message_section nms)"/>
            <column name="message_id" valueComputed="(select max(id) from notification_message)"/>
            <column name="section" valueNumeric="2"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <insert tableName="notification_message_line">
            <column name="id" valueComputed="(select max(nml.id)+1 from notification_message_line nml)"/>
            <column name="message_section_id" valueComputed="(select max(id) from notification_message_section)"/>
            <column name="content" value="Hello  $first_name $last_name,\r\n\r\nWelcome to JBilling!.\r\n\r\nPlease follow this link to set your credentials:\r\n\r\n$newPasswordLink"/>
            <column name="optlock" valueNumeric="0"/>
        </insert>

        <update tableName="jbilling_seqs">
            <column name="next_id"  valueComputed="(select max(nml.id)+1 from notification_message_section nml)"/>
            <where>name = 'notification_message_section'</where>
        </update>

        <update tableName="jbilling_seqs">
            <column name="next_id"  valueComputed="(select max(nml.id)+1 from notification_message_line nml)"/>
            <where>name = 'notification_message_line'</where>
        </update>
    </changeSet>

    <changeSet id="JBIIE-1267: Adding phone number format perference" author="Neeraj Bhatt" context="base">
        <comment>Phone Number format</comment>
        <insert tableName="preference_type">
            <column name="id" valueComputed="79"/>
            <column name="def_value" value=""/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="50"/>
            <column name="foreign_id" valueNumeric="79"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Phone number format"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="50"/>
            <column name="foreign_id" valueNumeric="79"/>
            <column name="psudo_column" value="instruction"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content"  value="Define the phone number format. For Example (XXX) XXX-XXXX. The number of X should be exact 10 "/>
        </insert>
    </changeSet>


    <changeSet id="JBIIE-1286 - Optional ADDRESS1 meta field and AITs display order" author="Cristian Ebbens" context="base">
        <update tableName="meta_field_name">
            <column name="is_mandatory" valueBoolean="false"/>
            <where>name = 'ADDRESS1' AND entity_type = 'ACCOUNT_TYPE'</where>
        </update>

        <update tableName="meta_field_group">
            <column name="display_order" valueNumeric="2"/>
            <where>name = 'Contact Information'</where>
        </update>
        <update tableName="meta_field_group">
            <column name="display_order" valueNumeric="3"/>
            <where>name = 'Account Information'</where>
        </update>
    </changeSet>

    <changeSet author="Neeraj Bhatt" context="base" id="JBIIE-1362-customers-tax-rate">

        <insert tableName="pluggable_task_type">
            <column name="id" valueComputed="coalesce((select max(p.id)+1 from pluggable_task_type p),1)"/>
            <column name="category_id" valueNumeric="22"/>
            <column name="class_name" value="com.sapienter.jbilling.server.ediTransaction.task.CalculateCustomerTaxLine"/>
            <column name="min_parameters" valueNumeric="0"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="title"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="Customer Tax Line calculation"/>
        </insert>

        <insert tableName="international_description">
            <column name="table_id" valueNumeric="24"/>
            <column name="foreign_id" valueComputed="(select max(id) from pluggable_task_type)"/>
            <column name="psudo_column" value="description"/>
            <column name="language_id" valueNumeric="1"/>
            <column name="content" value="This plugin is calcualte the customer tax line by the help of SureTax"/>
        </insert>
    </changeSet>

    <changeSet id="JBIIE-339 - Division filter should be multi-select" author="Cristian Ebbens" context="base">
        <sql>
            UPDATE report_parameter rp
            SET name = 'divisions', dtype = 'list'
            FROM report r
            WHERE rp.name = 'division' AND r.id = rp.report_id AND r.name IN ('accounts_receivable_ageing_detail', 'accounts_receivable_ageing_summary')
        </sql>
    </changeSet>

</databaseChangeLog>
